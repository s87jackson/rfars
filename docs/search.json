[{"path":"https://s87jackson.github.io/rfars/articles/Counts.html","id":"generating-counts","dir":"Articles","previous_headings":"","what":"Generating Counts","title":"Counts","text":"first step many transportation safety analyses involves counting number relevant crashes, fatalities, people involved. counts() lets users specify count, count (rural/urban /specified states regions), include, interval count (annually monthly), factors involved crashes. returns simple tibble can easily piped ggplot() quickly visualize counts. First load required libraries: pull year FARS data Virginia: can use counts() reduce data desired counts. count crashes: returns following dataframe: can graph:  alternatively count fatalities:  fatalities involving speeding:  fatalities involving speeding rural areas:  can use compare_counts() quickly produce comparison graphs. compare speeding-related fatalities rural urban areas:  compare speeding-related crashes related distraction:  See documentation information available options. * counts() * compare_counts()","code":"library(rfars) library(dplyr) library(ggplot2) myFARS <- get_fars(years = 2021, states = \"VA\", proceed = T) my_counts <- counts(   myFARS,   what = \"crashes\",   interval = c(\"month\")   ) knitr::kable(my_counts, format = \"html\") my_counts %>%   ggplot(aes(x=date, y=n, label=scales::comma(n))) +      geom_col() +      geom_label(vjust=1.2) +     labs(x=NULL, y=NULL, title = \"Fatal Crashes in Virginia\") counts(   myFARS,   what = \"fatalities\",   interval = c(\"month\")   ) %>%   ggplot(aes(x=date, y=n, label=scales::comma(n))) +      geom_col() +      geom_label(vjust=1.2) +     labs(x=NULL, y=NULL, title = \"Fatalities in Virginia\") counts(myFARS,        what = \"fatalities\",        interval = c(\"month\"),        involved = \"speeding\"        ) %>%   ggplot(aes(x=date, y=n, label=scales::comma(n))) +      geom_col() +      geom_label(vjust=1.2) +     labs(x=NULL, y=NULL, title = \"Speeding-Related Fatalities in Virginia\") counts(myFARS,        what = \"fatalities\",        where = list(urb=\"rural\"),        interval = c(\"month\"),        involved = \"speeding\"        ) %>%   ggplot(aes(x=date, y=n, label=scales::comma(n))) +      geom_col() +      geom_label(vjust=1.2) +     labs(x=NULL, y=NULL, title = \"Speeding-Related Fatalities in Rural Virginia\") compare_counts(   df = myFARS,   interval = \"month\",   involved = \"speeding\",   what = \"fatalities\",   where = list(urb=\"rural\"),   where2 = list(urb=\"urban\")   ) %>%   ggplot(aes(x=date, y=n, label=scales::comma(n))) +      geom_col() +      geom_label(vjust=1.2) +     facet_wrap(.~urb) +     labs(x=NULL, y=NULL, title = \"Speeding-Related Fatalities in Virginia\", fill=NULL) compare_counts(   df = myFARS,   interval = \"month\",   involved = \"speeding\",   involved2 = \"distracted driver\",   what = \"crashes\",   ) %>%   ggplot(aes(x=date, y=n, label=scales::comma(n))) +      geom_col() +      geom_label(vjust=1.2) +     facet_wrap(.~involved) +     labs(x=NULL, y=NULL, title = \"Speeding- and Distraction-Related Crashes in Virginia\", fill=NULL)"},{"path":"https://s87jackson.github.io/rfars/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Steve Jackson. Author, maintainer.","code":""},{"path":"https://s87jackson.github.io/rfars/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jackson S (2024). rfars: Download Analyze Crash Data. R package version 1.1.0, https://github.com/s87jackson/rfars.","code":"@Manual{,   title = {rfars: Download and Analyze Crash Data},   author = {Steve Jackson},   year = {2024},   note = {R package version 1.1.0},   url = {https://github.com/s87jackson/rfars}, }"},{"path":"https://s87jackson.github.io/rfars/index.html","id":"rfars-","dir":"","previous_headings":"","what":"Download and Analyze Crash Data","title":"Download and Analyze Crash Data","text":"goal rfars facilitate transportation safety analysis simplifying process extracting data official crash databases. National Highway Traffic Safety Administration collects publishes census fatal crashes Fatality Analysis Reporting System sample fatal non-fatal crashes Crash Report Sampling System (evolution General Estimates System). Fatality Injury Reporting System Tool allows users query databases, can produce simple tables graphs. suffices simple analysis, often leaves researchers wanting . Digging deeper, however, involves time-consuming process downloading annual ZIP files attempting stitch together - first combing immense data dictionaries determine required variables table names. rfars allows users download FARS GES/CRSS data back 2011 just one line code. result full, rich dataset ready mapping, modeling, downstream analysis. Helper functions also provided produce common counts comparisons.","code":""},{"path":"https://s87jackson.github.io/rfars/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Download and Analyze Crash Data","text":"can install latest version rfars GitHub : CRAN stable release : load rfars helpful packages:","code":"# install.packages(\"devtools\") devtools::install_github(\"s87jackson/rfars\") install.packages(\"rfars\") library(rfars) library(dplyr)"},{"path":"https://s87jackson.github.io/rfars/index.html","id":"getting-and-using-data","dir":"","previous_headings":"","what":"Getting and Using Data","title":"Download and Analyze Crash Data","text":"get_fars() get_gescrss() primary functions rfars package. functions either download process data files directly NHTSA’s FTP Site, pull prepared file stored local machine. take functions years states (FARS) regions (GES/CRSS). source data files follow annual structure, years determines many file sets downloaded, states/regions filters resulting dataset. Downloading processing files can take several minutes. downloading rfars inform ’s download files asks permission . skip dialog, set proceed = TRUE. can use dir cache parameters save RDS file local machine. dir parameter specifices directory, cache names file (sure include .rds file extension). get one year FARS data Virginia: saved file locally : Note can assign save data one function call. similarly get one year CRSS data south (MD, DE, DC, WV, VA, KY, TN, NC, SC, GA, FL, AL, MS, LA, AR, OK, TX): data returned get_fars() get_gescrss() adhere structure: list six tibbles: flat, multi_acc, multi_veh, multi_per, events, codebook. FARS GES/CRSS share many data elements. See FARS Analytical User’s Manual CRSS Analytical User’s Manual information. following section decribes results get_fars() largely applies get_gescrss() well. flat tibble contains variables just one value per crash (“accident”), vehicle, person (e.g., intersection type, travel speed, age). row corresponds person involved crash. may multiple people /vehicles involved one crash, variable-values repeated within crash vehicle. crash uniquely identified id, combination year st_case. Note st_case unique across years, example, st_case 510001 appear year. id variable attempts avoid issue. multi_ tibbles contain variables may varying number values entity (e.g., driver impairments, vehicle events, weather conditions time crash). tibble requisite data elements corresponding entity: multi_acc includes st_case year, multi_veh adds veh_no (vehicle number), multi_per adds per_no (person number). top name-value pairs tibble shown . events tibble provides sequence numbered events vehicle crash. See vignette information. codebook tibble provides searchable codebook data, useful know concept ’re looking variable describes . rfars package includes codebook FARS GESCRSS (rfars::fars_codebook rfars::gescrss_codebook). tables span 2011-2021 whereas codebook object returned get_fars() get_gescrss() include specified years. See vignette information.","code":"myFARS <- get_fars(years = 2021, states = \"VA\", proceed = TRUE) myFARS <- get_fars(years=2021, states = \"VA\", proceed = TRUE, dir = getwd(), cache = \"myFARS.rds\") myCRSS <- get_gescrss(years = 2021, regions = \"s\", proceed = TRUE) myCRSS <- get_gescrss(years = 2021, regions = \"s\", proceed = TRUE, dir = getwd(), cache = \"myCRSS.rds\") glimpse(myFARS$flat, width = 100) #> Rows: 1,969 #> Columns: 196 #> $ year          <dbl> 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021… #> $ state         <chr> \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Vir… #> $ st_case       <dbl> 510001, 510001, 510001, 510002, 510002, 510003, 510003, 510004, 510005, 5100… #> $ id            <dbl> 2021510001, 2021510001, 2021510001, 2021510002, 2021510002, 2021510003, 2021… #> $ veh_no        <dbl> 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 1, 1, 2, 1, 2, 1, 2… #> $ per_no        <dbl> 1, 2, 3, 1, 2, 1, 1, 1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 1, 2, 3, 1, 1, 1, 1, 1… #> $ county        <dbl> 143, 143, 143, 35, 35, 83, 83, 15, 730, 730, 33, 33, 59, 61, 61, 61, 800, 81… #> $ city          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 1910, 1910, 0, 0, 0, 0, 0, 0, 2390, 2540, 2540, 2540… #> $ lon           <dbl> -79.29690, -79.29690, -79.29690, -80.70023, -80.70023, -78.96757, -78.96757,… #> $ lat           <dbl> 36.58791, 36.58791, 36.58791, 36.78224, 36.78224, 36.87302, 36.87302, 37.931… #> $ acc_type      <chr> \"A1-Single Driver-Right Roadside Departure-Drive Off Road\", \"A1-Single Drive… #> $ age           <chr> \"26 Years\", \"27 Years\", \"24 Years\", \"20 Years\", \"21 Years\", \"79 Years\", \"28 … #> $ air_bag       <chr> \"Deployed- Front\", \"Deployed- Front\", \"Not Deployed\", \"Deployed- Side (door,… #> $ alc_det       <chr> \"Not Reported\", \"Not Reported\", \"Not Reported\", \"Not Reported\", \"Not Reporte… #> $ alc_res       <chr> \"0.101 % BAC\", \"Test Not Given\", \"Test Not Given\", \"Test Not Given\", \"Test N… #> $ alc_status    <chr> \"Test Given\", \"Test Not Given\", \"Test Not Given\", \"Test Not Given\", \"Test No… #> $ arr_hour      <chr> \"Unknown EMS Scene Arrival Hour\", \"Unknown EMS Scene Arrival Hour\", \"Unknown… #> $ arr_min       <chr> \"Unknown EMS Scene Arrival Minutes\", \"Unknown EMS Scene Arrival Minutes\", \"U… #> $ atst_typ      <chr> \"Vitreous\", \"Test Not Given\", \"Test Not Given\", \"Test Not Given\", \"Test Not … #> $ bikecgp       <chr> NA, NA, NA, NA, NA, \"Not a Cyclist\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… #> $ bikectype     <chr> NA, NA, NA, NA, NA, \"Not a Cyclist\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… #> $ bikedir       <chr> NA, NA, NA, NA, NA, \"Not a Cyclist\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… #> $ bikeloc       <chr> NA, NA, NA, NA, NA, \"Not a Cyclist\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… #> $ bikepos       <chr> NA, NA, NA, NA, NA, \"Not a Cyclist\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,… #> $ body_typ      <chr> \"Compact Utility (Utility Vehicle Categories \\\"Small\\\" and \\\"Midsize\\\")\", \"C… #> $ bus_use       <chr> \"Not a Bus\", \"Not a Bus\", \"Not a Bus\", \"Not a Bus\", \"Not a Bus\", NA, \"Not a … #> $ cargo_bt      <chr> \"Not Applicable (N/A)\", \"Not Applicable (N/A)\", \"Not Applicable (N/A)\", \"Not… #> $ cdl_stat      <chr> \"No (CDL)\", \"No (CDL)\", \"No (CDL)\", \"No (CDL)\", \"No (CDL)\", NA, \"No (CDL)\", … #> $ cityname      <chr> \"NOT APPLICABLE\", \"NOT APPLICABLE\", \"NOT APPLICABLE\", \"NOT APPLICABLE\", \"NOT… #> $ countyname    <chr> \"PITTSYLVANIA (143)\", \"PITTSYLVANIA (143)\", \"PITTSYLVANIA (143)\", \"CARROLL (… #> $ day           <dbl> 1, 1, 1, 2, 2, 6, 6, 6, 6, 6, 5, 5, 8, 4, 4, 4, 11, 6, 6, 6, 6, 6, 11, 11, 1… #> $ day_week      <chr> \"Friday\", \"Friday\", \"Friday\", \"Saturday\", \"Saturday\", \"Wednesday\", \"Wednesda… #> $ death_da      <chr> \"1\", \"Not Applicable (Non-Fatal)\", \"Not Applicable (Non-Fatal)\", \"Not Applic… #> $ death_hr      <chr> \"2:00-2:59\", \"Not Applicable (Non-fatal)\", \"Not Applicable (Non-fatal)\", \"No… #> $ death_mn      <chr> \"28\", \"Not Applicable (Non-fatal)\", \"Not Applicable (Non-fatal)\", \"Not Appli… #> $ death_mo      <chr> \"January\", \"Not Applicable (Non-Fatal)\", \"Not Applicable (Non-Fatal)\", \"Not … #> $ death_tm      <chr> NA, \"Not Applicable (Non-fatal)\", \"Not Applicable (Non-fatal)\", \"Not Applica… #> $ death_yr      <chr> \"2021\", \"Not Applicable (Non-fatal)\", \"Not Applicable (Non-fatal)\", \"Not App… #> $ deaths        <dbl> 1, 1, 1, 1, 1, NA, 0, 1, 1, 1, 2, 2, 1, 1, 1, 0, 1, NA, 0, 0, 0, 0, 1, 0, 1,… #> $ deformed      <chr> \"Disabling Damage\", \"Disabling Damage\", \"Disabling Damage\", \"Disabling Damag… #> $ doa           <chr> \"Died at Scene\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Died… #> $ dr_drink      <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", NA, \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"… #> $ dr_hgt        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ dr_pres       <chr> \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", NA, \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Yes\", \"Y… #> $ dr_wgt        <chr> \"265 lbs.\", \"265 lbs.\", \"265 lbs.\", \"170 lbs.\", \"170 lbs.\", NA, \"240 lbs.\", … #> $ dr_zip        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ drinking      <chr> \"Reported as Unknown\", \"Not Reported\", \"Not Reported\", \"Yes (Alcohol Involve… #> $ drug_det      <chr> \"Not Reported\", \"Not Reported\", \"Not Reported\", \"Not Reported\", \"Not Reporte… #> $ drugs         <chr> \"Reported as Unknown\", \"Not Reported\", \"Not Reported\", \"No (drugs not involv… #> $ dstatus       <chr> \"Test Given\", \"Test Not Given\", \"Test Not Given\", \"Test Not Given\", \"Test No… #> $ ej_path       <chr> \"Ejection Path Not Applicable\", \"Ejection Path Not Applicable\", \"Ejection Pa… #> $ ejection      <chr> \"Not Ejected\", \"Not Ejected\", \"Totally Ejected\", \"Totally Ejected\", \"Totally… #> $ emer_use      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ extricat      <chr> \"Not Extricated or Not Applicable\", \"Not Extricated or Not Applicable\", \"Not… #> $ fatals        <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ fire_exp      <chr> \"No or Not Reported\", \"No or Not Reported\", \"No or Not Reported\", \"No or Not… #> $ first_mo      <chr> \"January\", \"January\", \"January\", \"No Record\", \"No Record\", NA, \"February\", \"… #> $ first_yr      <chr> \"2017\", \"2017\", \"2017\", \"No Record\", \"No Record\", NA, \"2016\", \"2019\", \"2020\"… #> $ func_sys      <chr> \"Minor Collector\", \"Minor Collector\", \"Minor Collector\", \"Minor Arterial\", \"… #> $ gvwr_from     <chr> \"Class 1: 6,000 lbs. or less (2,722 kg or less)\", \"Class 1: 6,000 lbs. or le… #> $ gvwr_to       <chr> \"Class 1: 6,000 lbs. or less (2,722 kg or less)\", \"Class 1: 6,000 lbs. or le… #> $ harm_ev       <chr> \"Tree (Standing Only)\", \"Tree (Standing Only)\", \"Tree (Standing Only)\", \"Rol… #> $ haz_cno       <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ haz_id        <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ haz_inv       <chr> \"No\", \"No\", \"No\", \"No\", \"No\", NA, \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", … #> $ haz_plac      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ haz_rel       <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ helm_mis      <chr> \"None Used/Not Applicable\", \"None Used/Not Applicable\", \"None Used/Not Appli… #> $ helm_use      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ hispanic      <chr> \"Non-Hispanic\", \"Not A Fatality (not Applicable)\", \"Not A Fatality (not Appl… #> $ hit_run       <chr> \"No\", \"No\", \"No\", \"No\", \"No\", NA, \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", … #> $ hosp_hr       <chr> \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Not Applicable (Not … #> $ hosp_mn       <chr> \"Unknown EMS Hospital Arrival Time\", \"Unknown EMS Hospital Arrival Time\", \"U… #> $ hospital      <chr> \"Not Transported for Treatment\", \"EMS Unknown Mode\", \"EMS Unknown Mode\", \"EM… #> $ hour          <chr> \"1:00am-1:59am\", \"1:00am-1:59am\", \"1:00am-1:59am\", \"10:00pm-10:59pm\", \"10:00… #> $ icfinalbody   <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ impact1       <chr> \"1 Clock Point\", \"1 Clock Point\", \"1 Clock Point\", \"Non-Collision\", \"Non-Col… #> $ inj_sev       <chr> \"Fatal Injury (K)\", \"Suspected Serious Injury (A)\", \"Suspected Serious Injur… #> $ j_knife       <chr> \"Not an Articulated Vehicle\", \"Not an Articulated Vehicle\", \"Not an Articula… #> $ l_compl       <chr> \"Valid license for this class vehicle\", \"Valid license for this class vehicl… #> $ l_endors      <chr> \"No Endorsements required for this vehicle\", \"No Endorsements required for t… #> $ l_restri      <chr> \"No Restrictions or Not Applicable\", \"No Restrictions or Not Applicable\", \"N… #> $ l_state       <chr> \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", NA, \"Virginia\", … #> $ l_status      <chr> \"Valid\", \"Valid\", \"Valid\", \"Valid\", \"Valid\", NA, \"Valid\", \"Valid\", \"Valid\", … #> $ l_type        <chr> \"Full Driver License\", \"Full Driver License\", \"Full Driver License\", \"Full D… #> $ lag_hrs       <chr> NA, \"Unknown\", \"Unknown\", \"Unknown\", NA, NA, \"Unknown\", NA, \"Unknown\", NA, N… #> $ lag_mins      <chr> NA, \"Unknown\", \"Unknown\", \"Unknown\", NA, NA, \"Unknown\", NA, \"Unknown\", NA, N… #> $ last_mo       <chr> \"June\", \"June\", \"June\", \"No Record\", \"No Record\", NA, \"July\", \"October\", \"No… #> $ last_yr       <chr> \"2019\", \"2019\", \"2019\", \"No Record\", \"No Record\", NA, \"2018\", \"2019\", \"2020\"… #> $ lgt_cond      <chr> \"Dark - Not Lighted\", \"Dark - Not Lighted\", \"Dark - Not Lighted\", \"Dark - No… #> $ location      <chr> \"Occupant of a Motor Vehicle\", \"Occupant of a Motor Vehicle\", \"Occupant of a… #> $ m_harm        <chr> \"Tree (Standing Only)\", \"Tree (Standing Only)\", \"Tree (Standing Only)\", \"Tre… #> $ mak_mod       <chr> \"Jeep / Kaiser-Jeep / Willys- Jeep Cherokee (1984-on) (For Grand Cherokee fo… #> $ make          <chr> \"Jeep / Kaiser-Jeep / Willys- Jeep\", \"Jeep / Kaiser-Jeep / Willys- Jeep\", \"J… #> $ man_coll      <chr> \"The First Harmful Event was Not a Collision with a Motor Vehicle in Transpo… #> $ mcarr_i1      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ mcarr_i2      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ mcarr_id      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ milept        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ minute        <dbl> 50, 50, 50, 22, 22, 44, 44, 47, 50, 50, 5, 5, 45, 22, 22, 22, 54, 35, 35, 35… #> $ mod_year      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ model         <dbl> 404, 404, 404, 37, 37, NA, 472, 407, 421, 421, 401, 401, 706, 40, 40, 33, 40… #> $ month         <chr> \"January\", \"January\", \"January\", \"January\", \"January\", \"January\", \"January\",… #> $ motdir        <chr> NA, NA, NA, NA, NA, \"Not Applicable\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ motman        <chr> NA, NA, NA, NA, NA, \"Not Applicable\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ nhs           <chr> \"Unknown if this section is on the NHS\", \"Unknown if this section is on the … #> $ nmhelmet      <chr> NA, NA, NA, NA, NA, \"Not Reported\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ nmlight       <chr> NA, NA, NA, NA, NA, \"Not Reported\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ nmothpre      <chr> NA, NA, NA, NA, NA, \"Not Reported\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ nmothpro      <chr> NA, NA, NA, NA, NA, \"Not Reported\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ nmpropad      <chr> NA, NA, NA, NA, NA, \"Not Reported\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ nmrefclo      <chr> NA, NA, NA, NA, NA, \"Not Reported\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ not_hour      <chr> \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\",… #> $ not_min       <chr> \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown\", \"Unknown if Notified\"… #> $ numoccs       <chr> \"03\", \"03\", \"03\", \"02\", \"02\", NA, \"01\", \"01\", \"02\", \"02\", \"02\", \"02\", \"01\", … #> $ owner         <chr> \"Driver (in this crash) was  Registered Owner\", \"Driver (in this crash) was … #> $ p_crash1      <chr> \"Going Straight\", \"Going Straight\", \"Going Straight\", \"Negotiating a Curve\",… #> $ p_crash2      <chr> \"Off the edge of the road on the right side\", \"Off the edge of the road on t… #> $ p_crash3      <chr> \"Unknown/Not Reported\", \"Unknown/Not Reported\", \"Unknown/Not Reported\", \"Unk… #> $ pbcwalk       <chr> NA, NA, NA, NA, NA, \"None Noted\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ pbswalk       <chr> NA, NA, NA, NA, NA, \"None Noted\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ pbszone       <chr> NA, NA, NA, NA, NA, \"None Noted\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ pcrash4       <chr> \"Tracking\", \"Tracking\", \"Tracking\", \"Tracking\", \"Tracking\", NA, \"Tracking\", … #> $ pcrash5       <chr> \"Departed roadway\", \"Departed roadway\", \"Departed roadway\", \"Departed roadwa… #> $ pedcgp        <chr> NA, NA, NA, NA, NA, \"Pedestrian in Roadway - Circumstances Unknown\", NA, NA,… #> $ pedctype      <chr> NA, NA, NA, NA, NA, \"Standing in Roadway\", NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ peddir        <chr> NA, NA, NA, NA, NA, \"Not Applicable\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ pedleg        <chr> NA, NA, NA, NA, NA, \"Not Applicable\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ pedloc        <chr> NA, NA, NA, NA, NA, \"Not At Intersection\", NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ pedpos        <chr> NA, NA, NA, NA, NA, \"Travel Lane\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #> $ peds          <dbl> 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0… #> $ pedsnr        <chr> NA, NA, NA, NA, NA, \"Not Applicable\", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ per_typ       <chr> \"Driver of a Motor Vehicle In-Transport\", \"Passenger of a Motor Vehicle In-T… #> $ permvit       <dbl> 3, 3, 3, 2, 2, 1, 1, 1, 2, 2, 2, 2, 1, 3, 3, 3, 1, 4, 4, 4, 4, 4, 2, 2, 3, 3… #> $ pernotmvit    <dbl> 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0… #> $ persons       <dbl> 3, 3, 3, 2, 2, 1, 1, 1, 2, 2, 2, 2, 1, 3, 3, 3, 1, 4, 4, 4, 4, 4, 2, 2, 3, 3… #> $ prev_acc      <chr> \"None\", \"None\", \"None\", \"None\", \"None\", NA, \"None\", \"None\", \"None\", \"None\", … #> $ prev_dwi      <chr> \"None\", \"None\", \"None\", \"None\", \"None\", NA, \"None\", \"None\", \"None\", \"None\", … #> $ prev_oth      <chr> \"1\", \"1\", \"1\", \"None\", \"None\", NA, \"3\", \"None\", \"None\", \"None\", \"None\", \"Non… #> $ prev_spd      <chr> \"1\", \"1\", \"1\", \"None\", \"None\", NA, \"None\", \"2\", \"1\", \"1\", \"None\", \"None\", \"N… #> $ prev_sus1     <chr> \"None\", \"None\", \"None\", \"None\", \"None\", NA, \"None\", \"None\", \"None\", \"None\", … #> $ prev_sus2     <chr> \"None\", \"None\", \"None\", \"None\", \"None\", NA, \"None\", \"None\", \"None\", \"None\", … #> $ prev_sus3     <chr> \"2\", \"2\", \"2\", \"None\", \"None\", NA, \"None\", \"None\", \"None\", \"None\", \"1\", \"1\",… #> $ pvh_invl      <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0… #> $ rail          <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ rd_owner      <chr> \"State Highway Agency\", \"State Highway Agency\", \"State Highway Agency\", \"Sta… #> $ reg_stat      <chr> \"North Carolina\", \"North Carolina\", \"North Carolina\", \"Virginia\", \"Virginia\"… #> $ rel_road      <chr> \"On Roadside\", \"On Roadside\", \"On Roadside\", \"On Roadside\", \"On Roadside\", \"… #> $ reljct1       <chr> \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\"… #> $ reljct2       <chr> \"Non-Junction\", \"Non-Junction\", \"Non-Junction\", \"Non-Junction\", \"Non-Junctio… #> $ rest_mis      <chr> \"No Indication of Misuse\", \"No Indication of Misuse\", \"None Used/Not Applica… #> $ rest_use      <chr> \"Shoulder and Lap Belt Used\", \"Shoulder and Lap Belt Used\", \"None Used/Not A… #> $ rolinloc      <chr> \"No Rollover\", \"No Rollover\", \"No Rollover\", \"On Roadside\", \"On Roadside\", N… #> $ rollover      <chr> \"No Rollover\", \"No Rollover\", \"No Rollover\", \"Rollover, Untripped\", \"Rollove… #> $ route         <chr> \"County Road\", \"County Road\", \"County Road\", \"U.S. Highway\", \"U.S. Highway\",… #> $ rur_urb       <chr> \"Rural\", \"Rural\", \"Rural\", \"Rural\", \"Rural\", \"Rural\", \"Rural\", \"Rural\", \"Urb… #> $ sch_bus       <chr> \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\"… #> $ seat_pos      <chr> \"Front Seat, Left Side\", \"Front Seat, Right Side\", \"Second Seat, Middle\", \"F… #> $ sex           <chr> \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"Male\", \"Not Rep… #> $ sp_jur        <chr> \"No Special Jurisdiction\", \"No Special Jurisdiction\", \"No Special Jurisdicti… #> $ spec_use      <chr> \"No Special Use Noted\", \"No Special Use Noted\", \"No Special Use Noted\", \"No … #> $ speedrel      <chr> \"Yes, Exceeded Speed Limit\", \"Yes, Exceeded Speed Limit\", \"Yes, Exceeded Spe… #> $ statename     <chr> \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Virginia\", \"Vir… #> $ str_veh       <dbl> 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0… #> $ tow_veh       <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ towed         <chr> \"Towed Due to Disabling Damage\", \"Towed Due to Disabling Damage\", \"Towed Due… #> $ trav_sp       <chr> \"070 MPH\", \"070 MPH\", \"070 MPH\", \"065 MPH\", \"065 MPH\", NA, \"055 MPH\", \"065 M… #> $ trlr1gvwr     <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ trlr1vin      <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ trlr2gvwr     <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ trlr2vin      <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ trlr3gvwr     <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ trlr3vin      <chr> \"No Trailing Units\", \"No Trailing Units\", \"No Trailing Units\", \"No Trailing … #> $ tway_id       <chr> \"CR-655\", \"CR-655\", \"CR-655\", \"US-221\", \"US-221\", \"CR-641\", \"CR-641\", \"CR-60… #> $ tway_id2      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"OLD TAVERN RD\", \"OLD TA… #> $ typ_int       <chr> \"Not an Intersection\", \"Not an Intersection\", \"Not an Intersection\", \"Not an… #> $ underoverride <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ unittype      <chr> \"Motor Vehicle In-Transport (Inside or Outside the Trafficway)\", \"Motor Vehi… #> $ v_config      <chr> \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not Applicable\", \"Not… #> $ valign        <chr> \"Straight\", \"Straight\", \"Straight\", \"Curve - Left\", \"Curve - Left\", NA, \"Cur… #> $ ve_forms      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3… #> $ ve_total      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3… #> $ vin           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ vnum_lan      <chr> \"Two lanes\", \"Two lanes\", \"Two lanes\", \"Two lanes\", \"Two lanes\", NA, \"Two la… #> $ vpavetyp      <chr> \"Blacktop, Bituminous, or Asphalt\", \"Blacktop, Bituminous, or Asphalt\", \"Bla… #> $ vpicbodyclass <chr> \"Sport Utility Vehicle (SUV)/Multi-Purpose Vehicle (MPV)\", \"Sport Utility Ve… #> $ vpicmake      <chr> \"Jeep\", \"Jeep\", \"Jeep\", \"Ford\", \"Ford\", NA, \"Toyota\", \"Jeep\", \"Chevrolet\", \"… #> $ vpicmodel     <chr> \"Grand Cherokee\", \"Grand Cherokee\", \"Grand Cherokee\", \"Focus\", \"Focus\", NA, … #> $ vprofile      <chr> \"Level\", \"Level\", \"Level\", \"Grade, Unknown Slope\", \"Grade, Unknown Slope\", N… #> $ vspd_lim      <chr> \"45 MPH\", \"45 MPH\", \"45 MPH\", \"55 MPH\", \"55 MPH\", NA, \"55 MPH\", \"45 MPH\", \"6… #> $ vsurcond      <chr> \"Dry\", \"Dry\", \"Dry\", \"Dry\", \"Dry\", NA, \"Dry\", \"Dry\", \"Dry\", \"Dry\", \"Dry\", \"D… #> $ vtcont_f      <chr> \"No Controls\", \"No Controls\", \"No Controls\", \"No Controls\", \"No Controls\", N… #> $ vtrafcon      <chr> \"No Controls\", \"No Controls\", \"No Controls\", \"No Controls\", \"No Controls\", N… #> $ vtrafway      <chr> \"Two-Way, Not Divided\", \"Two-Way, Not Divided\", \"Two-Way, Not Divided\", \"Two… #> $ work_inj      <chr> \"No\", \"Not Applicable (not a fatality)\", \"Not Applicable (not a fatality)\", … #> $ wrk_zone      <chr> \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"None\", \"Non… myFARS$multi_acc %>% filter(!is.na(value)) %>% group_by(name, value) %>% summarize(n=n(), .groups = \"drop\") %>% arrange(desc(n)) %>% slice(1:10) %>% select(name, value, n) %>% knitr::kable(format = \"html\") myFARS$multi_veh %>% filter(!is.na(value)) %>% group_by(name, value) %>% summarize(n=n(), .groups = \"drop\") %>% arrange(desc(n)) %>% slice(1:10) %>% select(name, value, n) %>% knitr::kable(format = \"html\") myFARS$multi_per %>% filter(!is.na(value)) %>% group_by(name, value) %>% summarize(n=n(), .groups = \"drop\") %>% arrange(desc(n)) %>% slice(1:10) %>% select(name, value, n) %>% knitr::kable(format = \"html\") head(myFARS$events, 10) %>% knitr::kable(format=\"html\")"},{"path":"https://s87jackson.github.io/rfars/index.html","id":"helpful-links","dir":"","previous_headings":"","what":"Helpful Links","title":"Download and Analyze Crash Data","text":"National Highway Traffic Safety Administration (NHTSA) Fatality Analysis Reporting System (FARS) Fatality Injury Reporting System Tool (FIRST) FARS Analytical User’s Manual General Estimates System (GES) Crash Report Sampling System (CRSS) CRSS Analytical User’s Manual NCSA Data Sources NHTSA FTP Site","code":""},{"path":"https://s87jackson.github.io/rfars/reference/alcohol.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving alcohol — alcohol","title":"(Internal) Find crashes involving alcohol — alcohol","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/alcohol.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving alcohol — alcohol","text":"","code":"alcohol(df)"},{"path":"https://s87jackson.github.io/rfars/reference/alcohol.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving alcohol — alcohol","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/appendRDS.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Append RDS files — appendRDS","title":"(Internal) Append RDS files — appendRDS","text":"(Internal) Append RDS files","code":""},{"path":"https://s87jackson.github.io/rfars/reference/appendRDS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Append RDS files — appendRDS","text":"","code":"appendRDS(object, file, wd)"},{"path":"https://s87jackson.github.io/rfars/reference/appendRDS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Append RDS files — appendRDS","text":"object object save append file name file saved saved wd directory check","code":""},{"path":"https://s87jackson.github.io/rfars/reference/bicyclist.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving bicyclists — bicyclist","title":"(Internal) Find crashes involving bicyclists — bicyclist","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/bicyclist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving bicyclists — bicyclist","text":"","code":"bicyclist(df)"},{"path":"https://s87jackson.github.io/rfars/reference/bicyclist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving bicyclists — bicyclist","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/compare_counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare counts — compare_counts","title":"Compare counts — compare_counts","text":"Compare counts generated counts()","code":""},{"path":"https://s87jackson.github.io/rfars/reference/compare_counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare counts — compare_counts","text":"","code":"compare_counts(   df,   interval = c(\"year\", \"month\")[1],   what = c(\"crashes\", \"fatalities\", \"injuries\", \"people\")[1],   where = list(states = \"all\", region = c(\"all\", \"ne\", \"mw\", \"s\", \"w\")[1], urb = c(\"all\",     \"rural\", \"urban\")[1]),   who = c(\"all\", \"drivers\", \"passengers\", \"bicyclists\", \"pedestrians\")[1],   involved = NULL,   what2 = what,   where2 = where,   who2 = who,   involved2 = involved )"},{"path":"https://s87jackson.github.io/rfars/reference/compare_counts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare counts — compare_counts","text":"df input FARS object. interval interval count: months years. count: crashes, fatalities, people involved. count, list three elements: states (\"\" default), region (\"\"), urb (\"\") type person count: (default) drivers, passengers, pedestrians, bicyclists. involved Factors involved crash. Can : distracted driver, drowsy driver, police pursuit, motorcycle, pedalcyclist, bicyclist, pedestrian, pedbike, young driver, older driver, speeding, alcohol, drugs, hit run, roadway departure, rollover, large trucks. what2 Comparison point '' (set '' unless specified). where2 Comparison point '' (set '' unless specified). who2 Comparison point '' (set '' unless specified). involved2 Comparison point 'involved' (set 'involved' unless specified).","code":""},{"path":"https://s87jackson.github.io/rfars/reference/compare_counts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare counts — compare_counts","text":"tibble counts.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/compare_counts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare counts — compare_counts","text":"","code":"if (FALSE) {     compare_counts(       get_fars(years = 2020, states=\"Virginia\"),       where = list(urb=\"rural\"),       where2 = list(urb=\"urban\")       )    }"},{"path":"https://s87jackson.github.io/rfars/reference/counts.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate counts — counts","title":"Generate counts — counts","text":"Use FARS GES/CRSS data generate commonly requested counts.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/counts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate counts — counts","text":"","code":"counts(   df,   what = c(\"crashes\", \"fatalities\", \"injuries\", \"people\")[1],   interval = c(\"year\", \"month\")[1],   where = list(states = \"all\", region = c(\"all\", \"ne\", \"mw\", \"s\", \"w\")[1], urb = c(\"all\",     \"rural\", \"urban\")[1]),   who = c(\"all\", \"drivers\", \"passengers\", \"bicyclists\", \"pedestrians\")[1],   involved = NULL,   filterOnly = FALSE )"},{"path":"https://s87jackson.github.io/rfars/reference/counts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate counts — counts","text":"df input data object (must class 'FARS' 'GESCRSS' produced get_fars() get_gescrss()). count: crashes (default), fatalities, injuries, people involved. interval interval count: months years (default). count. Must list elements: states (can '', full abbreviated state names, FIPS codes), region ('', 'ne', 'mw', 's', 'w'; short northeast, midwest, south, west), urb ('', 'rural', 'urban'). un-specified elements set '' default. type person count: '' (default) 'drivers', 'passengers', 'pedestrians', 'bicyclists'. involved Factors involved crash. Can : 'distracted driver', 'drowsy driver', 'police pursuit', 'motorcycle', 'pedalcyclist', 'bicyclist', 'pedestrian', 'pedbike', 'young driver', 'older driver', 'speeding', 'alcohol', 'drugs', 'hit run', 'roadway departure', 'rollover', 'large trucks'. NULL default. filterOnly Logical, whether filter data reduce counts (FALSE default).","code":""},{"path":"https://s87jackson.github.io/rfars/reference/counts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate counts — counts","text":"Either filtered tibble (filterOnly=TRUE) tibble counts     (filterOnly=FALSE). filterOnly=TRUE, tibble returned     'flat' tibble input FARS object, filtered according     parameters. `df` GESCRSS object, counts returned sum appropriate weights.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/counts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate counts — counts","text":"","code":"if (FALSE) {     counts(get_fars(years = 2019), where = list(states=\"Virginia\", urb=\"rural\"))   }"},{"path":"https://s87jackson.github.io/rfars/reference/distracted_driver.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving distracted drivers — distracted_driver","title":"(Internal) Find crashes involving distracted drivers — distracted_driver","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/distracted_driver.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving distracted drivers — distracted_driver","text":"","code":"distracted_driver(df)"},{"path":"https://s87jackson.github.io/rfars/reference/distracted_driver.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving distracted drivers — distracted_driver","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_fars.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Download FARS data files — download_fars","title":"(Internal) Download FARS data files — download_fars","text":"Download files NHTSA, unzip, prepare .","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_fars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Download FARS data files — download_fars","text":"","code":"download_fars(years, dest_raw, dest_prepd, states)"},{"path":"https://s87jackson.github.io/rfars/reference/download_fars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Download FARS data files — download_fars","text":"years Years downloaded, yyyy (character numeric formats) dest_raw Directory store raw CSV files dest_prepd Directory store prepared CSV files states (Optional) Inherits get_fars()","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_fars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Internal) Download FARS data files — download_fars","text":"Nothing directly current environment. Various CSV files stored either temporary directory dir specified user.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_fars.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"(Internal) Download FARS data files — download_fars","text":"Raw files downloaded NHTSA.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_gescrss.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Download GES/CRSS data files — download_gescrss","title":"(Internal) Download GES/CRSS data files — download_gescrss","text":"Download files NHTSA, unzip, prepare .","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_gescrss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Download GES/CRSS data files — download_gescrss","text":"","code":"download_gescrss(years, dest_raw, dest_prepd, regions)"},{"path":"https://s87jackson.github.io/rfars/reference/download_gescrss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Download GES/CRSS data files — download_gescrss","text":"years Years downloaded, yyyy (character numeric formats) dest_raw Directory store raw CSV files dest_prepd Directory store prepared CSV files regions (Optional) Inherits get_gescrss()","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_gescrss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Internal) Download GES/CRSS data files — download_gescrss","text":"Nothing directly current environment. Various CSV files stored either temporary directory dir specified user.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/download_gescrss.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"(Internal) Download GES/CRSS data files — download_gescrss","text":"Raw files downloaded directly NHTSA.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/driver_age.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving drivers of a given age — driver_age","title":"(Internal) Find crashes involving drivers of a given age — driver_age","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/driver_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving drivers of a given age — driver_age","text":"","code":"driver_age(df, age_min, age_max)"},{"path":"https://s87jackson.github.io/rfars/reference/driver_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving drivers of a given age — driver_age","text":"df FARS GESCRSS data object searched. age_min Lower bound driver age (inclusive). age_max Upper bound driver age (inclusive).","code":""},{"path":"https://s87jackson.github.io/rfars/reference/drowsy_driver.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving drowsy drivers — drowsy_driver","title":"(Internal) Find crashes involving drowsy drivers — drowsy_driver","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/drowsy_driver.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving drowsy drivers — drowsy_driver","text":"","code":"drowsy_driver(df)"},{"path":"https://s87jackson.github.io/rfars/reference/drowsy_driver.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving drowsy drivers — drowsy_driver","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/drugs.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving drugs — drugs","title":"(Internal) Find crashes involving drugs — drugs","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/drugs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving drugs — drugs","text":"","code":"drugs(df)"},{"path":"https://s87jackson.github.io/rfars/reference/drugs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving drugs — drugs","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/fars_codebook.html","id":null,"dir":"Reference","previous_headings":"","what":"FARS Codebook — fars_codebook","title":"FARS Codebook — fars_codebook","text":"table describing FARS variable name, value, corresponding value label.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/fars_codebook.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FARS Codebook — fars_codebook","text":"","code":"fars_codebook"},{"path":"https://s87jackson.github.io/rfars/reference/fars_codebook.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"FARS Codebook — fars_codebook","text":"data frame 132,454 rows 8 variables: source source data (either FARS GES/CRSS) years Years data element definition. file data file contains given variable. name_ncsa original name data element. name_rfars modified data element name used rfars label label data element (constituent values). value original value data element. value_label de-coded value label.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/fars_codebook.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"FARS Codebook — fars_codebook","text":"codebook serves useful reference researchers using FARS data.    'source' variable intended help combine gescrss_codebook.    Data elements relatively stable occasionally discontinued, created anew,    modified. 'year' variable helps indicate availability data elements,    differentiates different definitions time. Users always    check discontinuities tabulating cases. 'file' variable indicates file given data element originally appeared. , files refers    SAS files downloaded NHTSA. data elements stayed original    file. moved multi_ files. example, 'weather'    originates 'accident' file, appears multi_acc data object    created rfars. 'name_ncsa' variable describes data element's name assigned    NCSA (organization within NHTSA manages database). maximize    compatibility years ease use programming, 'name_rfars'    provides cleaned naming convention (via janitor::clean_names()).    names provided help users find corresponding entry    Analytical User’s Manual    latter used data produced get_fars(). data element 'label', human-readable version    element names. example, label 'road_fnc' 'Roadway Function Class'.    definitions may provide enough information help users    conduct analysis. Consult Analytical User’s Manual    definitions details. data element multiple 'value'-'value_label' pairs: 'value' represents    original, non-human-readable value (usually number), 'value_label'    represents corresponding text value. example, 'road_fnc', 1 ('value')    corresponds 'Rural-Principal Arterial-Interstate' ('value_label'), 2 corresponds    'Rural-Principal Arterial-', etc.","code":""},{"path":[]},{"path":"https://s87jackson.github.io/rfars/reference/geo_relations.html","id":null,"dir":"Reference","previous_headings":"","what":"Synonym table for various geographical scales — geo_relations","title":"Synonym table for various geographical scales — geo_relations","text":"dataset providing different ways refer states counties.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/geo_relations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Synonym table for various geographical scales — geo_relations","text":"","code":"geo_relations"},{"path":"https://s87jackson.github.io/rfars/reference/geo_relations.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Synonym table for various geographical scales — geo_relations","text":"data frame 3,142 rows 6 variables: fips_state 2-digit FIPS code indicating state fips_county 3-digit FIPS code indicating county within state fips_tract 6-digit FIPS code indicating tract within county state_name_abbr 2-character, capitalized state abbreviation state_name_full fully spelled case-sensitive state name county_name_abbr abbreviated county name (usually minus word 'County') county_name_full fully spelled case-sensitive county name region fully spelled case-sensitive NHTSA region constituent states region_abbr abbreviated NHTSA region (ne, mw, s, w)","code":""},{"path":"https://s87jackson.github.io/rfars/reference/geo_relations.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Synonym table for various geographical scales — geo_relations","text":"https://www.census.gov/geographies/reference-files/2015/demo/popest/2015-fips.html","code":""},{"path":"https://s87jackson.github.io/rfars/reference/gescrss_codebook.html","id":null,"dir":"Reference","previous_headings":"","what":"GESCRSS Codebook — gescrss_codebook","title":"GESCRSS Codebook — gescrss_codebook","text":"table describing GESCRSS variable name, value, corresponding value label.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/gescrss_codebook.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GESCRSS Codebook — gescrss_codebook","text":"","code":"gescrss_codebook"},{"path":"https://s87jackson.github.io/rfars/reference/gescrss_codebook.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"GESCRSS Codebook — gescrss_codebook","text":"data frame 85,907 rows 8 variables: source source data (either FARS GESCRSS) years Years data element definition. file data file contains given variable. name_ncsa original name data element. name_rfars modified data element name used rfars label label data element (constituent values). value original value data element. value_label de-coded value label.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/gescrss_codebook.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"GESCRSS Codebook — gescrss_codebook","text":"codebook serves useful reference researchers using GES/CRSS data.    'source' variable intended help combine fars_codebook.    Data elements relatively stable occasionally discontinued, created anew,    modified. 'year' variable helps indicate availability data elements,    differentiates different definitions time. Users always    check discontinuities tabulating cases. 'file' variable indicates file given data element originally appeared. , files refers    SAS files downloaded NHTSA. data elements stayed original    file. moved multi_ files. example, 'weather'    originates 'accident' file, appears multi_acc data object    created rfars. 'name_ncsa' variable describes data element's name assigned    NCSA (organization within NHTSA manages database). maximize    compatibility years ease use programming, 'name_rfars'    provides cleaned naming convention (via janitor::clean_names()).    names provided help users find corresponding entry    CRSS User Manual    latter used data produced get_gescrss(). data element 'label', human-readable version    element names. example, label 'harm_ev' 'First Harmful Event'.    definitions may provide enough information help users    conduct analysis. Consult CRSS User Manual    definitions details. data element multiple 'value'-'value_label' pairs: 'value' represents    original, non-human-readable value (usually number), 'value_label'    represents corresponding text value. example, 'harm_ev', 1 ('value')    corresponds 'Rollover/Overturn' ('value_label'), 2 corresponds    'Fire/Explosion', etc.","code":""},{"path":[]},{"path":"https://s87jackson.github.io/rfars/reference/get_fars.html","id":null,"dir":"Reference","previous_headings":"","what":"Get FARS data — get_fars","title":"Get FARS data — get_fars","text":"Bring FARS data current environment, whether downloading anew     using pre-existing files.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_fars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get FARS data — get_fars","text":"","code":"get_fars(   years = 2011:2021,   states = NULL,   dir = NULL,   proceed = FALSE,   cache = NULL )"},{"path":"https://s87jackson.github.io/rfars/reference/get_fars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get FARS data — get_fars","text":"years Years downloaded, yyyy (character numeric formats), currently limited 2011-2021 (default). states States keep. Leave NULL (default) keep states. Can specified full state name (e.g. \"Virginia\"), abbreviation (\"VA\"), FIPS code (51). dir Directory search save 'FARS data' folder. NULL (default), files downloaded unzipped temporary directories prepared memory. proceed Logical, whether proceed downloading files without asking user permission (defaults FALSE, thus asking permission) cache name RDS file save use. specified file (e.g., 'myFARS.rds') exists 'dir' returned; , RDS file name saved 'dir' quick use subsequent calls.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_fars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get FARS data — get_fars","text":"FARS data object (list six tibbles: flat, multi_acc,     multi_veh, multi_per, events, codebook), described .","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_fars.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get FARS data — get_fars","text":"function downloads raw data NHTSA.    directory (dir) specified, SAS files downloaded    tempdir(), also prepared, combined, brought    current environment. specify directory (dir), function    look 'FARS data' folder. found, created    populated raw prepared SAS RDS files. directory found,    function makes sure requested years present asks permission    download missing years. object returned list class 'FARS'. contains six tibbles:    flat, multi_acc, multi_veh, multi_per, events, codebook. Flat files wide-formatted presented person level.    crashes involve least one motor vehicle,    may contain one multiple people. three    entities crash data. flat files therefore repeat data elements    across multiple rows. Please conduct analysis entity mind. data elements can include multiple values data level    (e.g., multiple weather conditions corresponding crash, multiple    crash factors related vehicle person). elements    collected yyyy_multi_[acc/veh/per].rds files long format.    files contain crash, vehicle, person identifiers, two    variables labelled name value. correspond    variable names raw data files corresponding values,    respectively. events tibble provides sequence events vehicles involved    crash. See Crash Sequences vignette example. Finally, codebook tibble serves searchable codebook files given year. Please review FARS Analytical User's Manual","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_fars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get FARS data — get_fars","text":"","code":"if (FALSE) {     myFARS <- get_fars(years = 2021, states = \"VA\")   }"},{"path":"https://s87jackson.github.io/rfars/reference/get_gescrss.html","id":null,"dir":"Reference","previous_headings":"","what":"Get GES/CRSS data — get_gescrss","title":"Get GES/CRSS data — get_gescrss","text":"Bring GES/CRSS data current environment, whether downloading anew     using pre-existing files.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_gescrss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get GES/CRSS data — get_gescrss","text":"","code":"get_gescrss(   years = 2011:2021,   regions = c(\"mw\", \"ne\", \"s\", \"w\"),   dir = NULL,   proceed = FALSE,   cache = NULL )"},{"path":"https://s87jackson.github.io/rfars/reference/get_gescrss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get GES/CRSS data — get_gescrss","text":"years Years downloaded, yyyy (character numeric formats), currently limited 2011-2021. regions (Optional) Regions keep: mw=midwest, ne=northeast, s=south, w=west. dir Directory search save 'GESCRSS data' folder. NULL (default), files downloaded unzipped temporary directories prepared memory. proceed Logical, whether proceed downloading files without asking user permission (defaults FALSE, thus asking permission) cache name RDS file save use. specified file (e.g., 'myFARS.rds') exists 'dir' returned; , RDS file name saved 'dir' quick use subsequent calls.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_gescrss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get GES/CRSS data — get_gescrss","text":"GESCRSS data object (list six tibbles: flat, multi_acc,     multi_veh, multi_per, events, codebook).","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_gescrss.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get GES/CRSS data — get_gescrss","text":"function downloads raw data GES CRSS crash databases.    directory (dir) specified, raw CSV files downloaded    tempdir(), also prepared, combined, brought    current environment. specify directory (dir), function    look 'GESCRSS data' folder. found, created    populated raw prepared SAS RDS files. directory found,    function makes sure requested years present asks permission    download missing years. object returned list class 'GESCRSS'. contains six tibbles:    flat, multi_acc, multi_veh, multi_per, events, codebook. Flat files wide-formatted presented person level.    crashes involve least one motor vehicle,    may contain one multiple people. three    entities crash data. flat files therefore repeat data elements    across multiple rows. Please conduct analysis entity mind. data elements can include multiple values data level    (e.g., multiple weather conditions corresponding crash, multiple    crash factors related vehicle person). elements    collected yyyy_multi_[acc/veh/per].rds files long format.    files contain crash, vehicle, person identifiers, two    variables labelled name value. correspond    variable names raw data files corresponding values,    respectively. events tibble provides sequence events vehicles involved    crash. See Crash Sequences vignette example. codebook tibble serves searchable codebook files given year. Please review CRSS Analytical User's Manual Regions follows:       mw = Midwest   = OH, , IL, MI, WI, MN, ND, SD, NE, IA, MO, KS       ne = Northeast = PA, NJ, NY, NH, VT, RI, MA, , CT       s  = South     = MD, DE, DC, WV, VA, KY, TN, NC, SC, GA, FL, AL, MS, LA, AR, OK, TX       w  = West      = MT, ID, WA, , CA, NV, NM, AZ, UT, CO, WY, AK, HI","code":""},{"path":"https://s87jackson.github.io/rfars/reference/get_gescrss.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get GES/CRSS data — get_gescrss","text":"","code":"if (FALSE) {     myGESCRSS <- get_gescrss(years = 2021, regions = \"s\")   }"},{"path":"https://s87jackson.github.io/rfars/reference/hit_and_run.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find hit and run crashes — hit_and_run","title":"(Internal) Find hit and run crashes — hit_and_run","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/hit_and_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find hit and run crashes — hit_and_run","text":"","code":"hit_and_run(df)"},{"path":"https://s87jackson.github.io/rfars/reference/hit_and_run.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find hit and run crashes — hit_and_run","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/import_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Import the multi_ files — import_multi","title":"(Internal) Import the multi_ files — import_multi","text":"internal function imports multi_ files","code":""},{"path":"https://s87jackson.github.io/rfars/reference/import_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Import the multi_ files — import_multi","text":"","code":"import_multi(filename, where)"},{"path":"https://s87jackson.github.io/rfars/reference/import_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Import the multi_ files — import_multi","text":"filename filename (e.g. \"multi_acc.csv\") imported directory search within","code":""},{"path":"https://s87jackson.github.io/rfars/reference/large_trucks.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving large trucks — large_trucks","title":"(Internal) Find crashes involving large trucks — large_trucks","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/large_trucks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving large trucks — large_trucks","text":"","code":"large_trucks(df)"},{"path":"https://s87jackson.github.io/rfars/reference/large_trucks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving large trucks — large_trucks","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/make_all_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Make id and year numeric — make_all_numeric","title":"(Internal) Make id and year numeric — make_all_numeric","text":"(Internal) Make id year numeric","code":""},{"path":"https://s87jackson.github.io/rfars/reference/make_all_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Make id and year numeric — make_all_numeric","text":"","code":"make_all_numeric(df)"},{"path":"https://s87jackson.github.io/rfars/reference/make_all_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Make id and year numeric — make_all_numeric","text":"df input dataframe","code":""},{"path":"https://s87jackson.github.io/rfars/reference/make_id.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Generate an ID variable — make_id","title":"(Internal) Generate an ID variable — make_id","text":"(Internal) Generate ID variable","code":""},{"path":"https://s87jackson.github.io/rfars/reference/make_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Generate an ID variable — make_id","text":"","code":"make_id(df)"},{"path":"https://s87jackson.github.io/rfars/reference/make_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Generate an ID variable — make_id","text":"df dataframe make id","code":""},{"path":"https://s87jackson.github.io/rfars/reference/motorcycle.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving motorcycles — motorcycle","title":"(Internal) Find crashes involving motorcycles — motorcycle","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/motorcycle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving motorcycles — motorcycle","text":"","code":"motorcycle(df)"},{"path":"https://s87jackson.github.io/rfars/reference/motorcycle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving motorcycles — motorcycle","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pedalcyclist.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving pedalcyclists — pedalcyclist","title":"(Internal) Find crashes involving pedalcyclists — pedalcyclist","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pedalcyclist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving pedalcyclists — pedalcyclist","text":"","code":"pedalcyclist(df)"},{"path":"https://s87jackson.github.io/rfars/reference/pedalcyclist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving pedalcyclists — pedalcyclist","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pedbike.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving pedstrians or bicyclists — pedbike","title":"(Internal) Find crashes involving pedstrians or bicyclists — pedbike","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pedbike.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving pedstrians or bicyclists — pedbike","text":"","code":"pedbike(df)"},{"path":"https://s87jackson.github.io/rfars/reference/pedbike.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving pedstrians or bicyclists — pedbike","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pedestrian.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving pedestrians — pedestrian","title":"(Internal) Find crashes involving pedestrians — pedestrian","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pedestrian.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving pedestrians — pedestrian","text":"","code":"pedestrian(df)"},{"path":"https://s87jackson.github.io/rfars/reference/pedestrian.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving pedestrians — pedestrian","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://s87jackson.github.io/rfars/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/police_pursuit.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving police pursuits — police_pursuit","title":"(Internal) Find crashes involving police pursuits — police_pursuit","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/police_pursuit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving police pursuits — police_pursuit","text":"","code":"police_pursuit(df)"},{"path":"https://s87jackson.github.io/rfars/reference/police_pursuit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving police pursuits — police_pursuit","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/prep_fars.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare downloaded FARS files for use — prep_fars","title":"Prepare downloaded FARS files for use — prep_fars","text":"Prepare downloaded FARS files use","code":""},{"path":"https://s87jackson.github.io/rfars/reference/prep_fars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare downloaded FARS files for use — prep_fars","text":"","code":"prep_fars(y, wd, rawfiles, prepared_dir, states)"},{"path":"https://s87jackson.github.io/rfars/reference/prep_fars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare downloaded FARS files for use — prep_fars","text":"y year, passed prep_fars wd working directory, , passed prep_fars rawfiles dataframe translating filenames standard terms, passed prep_fars prepared_dir location prepared files saved, passed prep_fars states (Optional) Inherits get_fars()","code":""},{"path":"https://s87jackson.github.io/rfars/reference/prep_fars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare downloaded FARS files for use — prep_fars","text":"Produces six files: yyyy_flat.rds, yyyy_multi_acc.rds,     yyyy_multi_veh.rds, yyyy_multi_per.rds, yyyy_events.rds, codebook.rds","code":""},{"path":"https://s87jackson.github.io/rfars/reference/prep_gescrss.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare downloaded GES/CRSS files for use — prep_gescrss","title":"Prepare downloaded GES/CRSS files for use — prep_gescrss","text":"Prepare downloaded GES/CRSS files use","code":""},{"path":"https://s87jackson.github.io/rfars/reference/prep_gescrss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare downloaded GES/CRSS files for use — prep_gescrss","text":"","code":"prep_gescrss(y, wd, rawfiles, prepared_dir, regions)"},{"path":"https://s87jackson.github.io/rfars/reference/prep_gescrss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare downloaded GES/CRSS files for use — prep_gescrss","text":"y year, passed prep_gescrss wd working directory, , passed prep_gescrss rawfiles dataframe translating filenames standard terms, passed prep_gescrss prepared_dir location prepared files saved, passed prep_gescrss regions (Optional) Inherits get_gescrss()","code":""},{"path":"https://s87jackson.github.io/rfars/reference/prep_gescrss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare downloaded GES/CRSS files for use — prep_gescrss","text":"Produces six files: yyyy_flat.rds, yyyy_multi_acc.rds,     yyyy_multi_veh.rds, yyyy_multi_per.rds, yyyy_events.rds, codebook.rds","code":""},{"path":"https://s87jackson.github.io/rfars/reference/read_basic_sas.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Takes care of basic SAS file reading — read_basic_sas","title":"(Internal) Takes care of basic SAS file reading — read_basic_sas","text":"(Internal) Takes care basic SAS file reading","code":""},{"path":"https://s87jackson.github.io/rfars/reference/read_basic_sas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Takes care of basic SAS file reading — read_basic_sas","text":"","code":"read_basic_sas(x, wd, rawfiles, catfile = paste0(wd, \"formats.sas7bcat\"))"},{"path":"https://s87jackson.github.io/rfars/reference/read_basic_sas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Takes care of basic SAS file reading — read_basic_sas","text":"x cleaned name data table (SAS7BDAT). wd working directory files rawfiles data frame connecting raw filenames cleaned ones. catfile location sas7bcat file","code":""},{"path":[]},{"path":"https://s87jackson.github.io/rfars/reference/read_basic_sas_nocat.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Takes care of basic SAS file reading when the bcat file creates an issue — read_basic_sas_nocat","title":"(Internal) Takes care of basic SAS file reading when the bcat file creates an issue — read_basic_sas_nocat","text":"(Internal) Takes care basic SAS file reading bcat file creates issue","code":""},{"path":"https://s87jackson.github.io/rfars/reference/read_basic_sas_nocat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Takes care of basic SAS file reading when the bcat file creates an issue — read_basic_sas_nocat","text":"","code":"read_basic_sas_nocat(x, wd, rawfiles)"},{"path":"https://s87jackson.github.io/rfars/reference/read_basic_sas_nocat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Takes care of basic SAS file reading when the bcat file creates an issue — read_basic_sas_nocat","text":"x cleaned name data table (SAS7BDAT). wd working directory files rawfiles data frame connecting raw filenames cleaned ones.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/rm_cols.f.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) rm_cols.f — rm_cols.f","title":"(Internal) rm_cols.f — rm_cols.f","text":"internal function removes variables unnecessarily duplicated across FARS tables.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/rm_cols.f.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) rm_cols.f — rm_cols.f","text":"","code":"rm_cols.f(df, a, b)"},{"path":"https://s87jackson.github.io/rfars/reference/rm_cols.f.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) rm_cols.f — rm_cols.f","text":"df input data frame. original, non-imputed variable. b imputed variable (often _im suffix).","code":""},{"path":"https://s87jackson.github.io/rfars/reference/rm_cols.g.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) rm_cols.g — rm_cols.g","title":"(Internal) rm_cols.g — rm_cols.g","text":"internal function removes variables unnecessarily duplicated across GES/CRSS tables.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/rm_cols.g.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) rm_cols.g — rm_cols.g","text":"","code":"rm_cols.g(df, a, b)"},{"path":"https://s87jackson.github.io/rfars/reference/rm_cols.g.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) rm_cols.g — rm_cols.g","text":"df input data frame. original, non-imputed variable. b imputed variable (often _im suffix).","code":""},{"path":"https://s87jackson.github.io/rfars/reference/road_depart.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving road departures — road_depart","title":"(Internal) Find crashes involving road departures — road_depart","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/road_depart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving road departures — road_depart","text":"","code":"road_depart(df)"},{"path":"https://s87jackson.github.io/rfars/reference/road_depart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving road departures — road_depart","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/rollover.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving rollovers — rollover","title":"(Internal) Find crashes involving rollovers — rollover","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/rollover.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving rollovers — rollover","text":"","code":"rollover(df)"},{"path":"https://s87jackson.github.io/rfars/reference/rollover.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving rollovers — rollover","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/speeding.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Find crashes involving speeding — speeding","title":"(Internal) Find crashes involving speeding — speeding","text":"internal functions take FARS object created use_fars look     various cases, distracted drowsy drivers.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/speeding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Find crashes involving speeding — speeding","text":"","code":"speeding(df)"},{"path":"https://s87jackson.github.io/rfars/reference/speeding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Find crashes involving speeding — speeding","text":"df FARS GESCRSS data object searched.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_fars.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Use FARS data files — use_fars","title":"(Internal) Use FARS data files — use_fars","text":"Compile multiple years prepared FARS data.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_fars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Use FARS data files — use_fars","text":"","code":"use_fars(dir, prepared_dir, cache)"},{"path":"https://s87jackson.github.io/rfars/reference/use_fars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Use FARS data files — use_fars","text":"dir Inherits get_fars(). prepared_dir Inherits get_fars(). cache Inherits get_fars().","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_fars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Internal) Use FARS data files — use_fars","text":"Returns object class 'FARS' list six tibbles:     flat, multi_acc, multi_veh, multi_per, events, codebook.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_gescrss.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Use GESCRSS data files — use_gescrss","title":"(Internal) Use GESCRSS data files — use_gescrss","text":"Compile multiple years prepared GESCRSS data.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_gescrss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Use GESCRSS data files — use_gescrss","text":"","code":"use_gescrss(dir, prepared_dir, cache)"},{"path":"https://s87jackson.github.io/rfars/reference/use_gescrss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Use GESCRSS data files — use_gescrss","text":"dir Inherits get_gescrss(). prepared_dir Inherits get_gescrss(). cache Inherits get_gescrss().","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_gescrss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Internal) Use GESCRSS data files — use_gescrss","text":"Returns object class 'GESCRSS' list six tibbles:     flat, multi_acc, multi_veh, multi_per, events, codebook.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_imp.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) use_imp — use_imp","title":"(Internal) use_imp — use_imp","text":"internal function uses imputed variables (present many GES/CRSS tables)","code":""},{"path":"https://s87jackson.github.io/rfars/reference/use_imp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) use_imp — use_imp","text":"","code":"use_imp(df, original, imputed, show = FALSE)"},{"path":"https://s87jackson.github.io/rfars/reference/use_imp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) use_imp — use_imp","text":"df input data frame. original original, non-imputed variable. imputed imputed variable (often _im suffix). show Logical (FALSE default) Show differences original imputed values.","code":""},{"path":"https://s87jackson.github.io/rfars/reference/validate_states.html","id":null,"dir":"Reference","previous_headings":"","what":"(Internal) Validate user-provided list of states — validate_states","title":"(Internal) Validate user-provided list of states — validate_states","text":"(Internal) Validate user-provided list states","code":""},{"path":"https://s87jackson.github.io/rfars/reference/validate_states.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Internal) Validate user-provided list of states — validate_states","text":"","code":"validate_states(states)"},{"path":"https://s87jackson.github.io/rfars/reference/validate_states.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Internal) Validate user-provided list of states — validate_states","text":"states States specified get_fars, prep_fars, counts","code":""},{"path":"https://s87jackson.github.io/rfars/news/index.html","id":"rfars-110","dir":"Changelog","previous_headings":"","what":"rfars 1.1.0","title":"rfars 1.1.0","text":"CRAN release: 2024-02-15 Streamlined README content Cleaned vignettes Incremented version number communicate end beta testing stage","code":""},{"path":"https://s87jackson.github.io/rfars/news/index.html","id":"rfars-031","dir":"Changelog","previous_headings":"","what":"rfars 0.3.1","title":"rfars 0.3.1","text":"Adjusted code account file structure changes data provider","code":""},{"path":"https://s87jackson.github.io/rfars/news/index.html","id":"rfars-030","dir":"Changelog","previous_headings":"","what":"rfars 0.3.0","title":"rfars 0.3.0","text":"CRAN release: 2023-05-05 Expanded FARS coverage 2011-2021 Added get_gescrss() get GES/CRSS data Modified get_ functions produce codebook.csv file Included codebook.rds file quick reference geo_relations table now includes NHTSA regions Improved counts() function Added compare_counts() function SAS files pulled NHTSA, rather CSVs Consolidated prep_fars_yyyy functions prep_fars()","code":""},{"path":"https://s87jackson.github.io/rfars/news/index.html","id":"rfars-020","dir":"Changelog","previous_headings":"","what":"rfars 0.2.0","title":"rfars 0.2.0","text":"CRAN release: 2022-11-01 Added ability download FARS data tempdir. Improved documentation. Streamlined workflow contained get_fars(). Developed hex sticker.","code":""},{"path":"https://s87jackson.github.io/rfars/news/index.html","id":"rfars-010","dir":"Changelog","previous_headings":"","what":"rfars 0.1.0","title":"rfars 0.1.0","text":"Added NEWS.md file track changes package.","code":""}]
