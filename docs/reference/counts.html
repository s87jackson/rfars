<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate counts — counts • rfars</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate counts — counts"><meta name="description" content="Use FARS or GES/CRSS data to generate commonly requested counts."><meta property="og:description" content="Use FARS or GES/CRSS data to generate commonly requested counts."><meta property="og:image" content="https://s87jackson.github.io/rfars/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rfars</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Alcohol_Counts.html">Alcohol Counts</a></li>
    <li><a class="dropdown-item" href="../articles/Counts.html">Counts</a></li>
    <li><a class="dropdown-item" href="../articles/Crash_sequence_of_events.html">Crash Sequence of Events</a></li>
    <li><a class="dropdown-item" href="../articles/Searchable_Codebooks.html">Searchable Codebooks</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/s87jackson/rfars/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Generate counts</h1>
      <small class="dont-index">Source: <a href="https://github.com/s87jackson/rfars/blob/HEAD/R/counts.R" class="external-link"><code>R/counts.R</code></a></small>
      <div class="d-none name"><code>counts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Use FARS or GES/CRSS data to generate commonly requested counts.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">counts</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"crashes"</span>, <span class="st">"fatalities"</span>, <span class="st">"injuries"</span>, <span class="st">"people"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  interval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year"</span>, <span class="st">"month"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>states <span class="op">=</span> <span class="st">"all"</span>, region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"ne"</span>, <span class="st">"mw"</span>, <span class="st">"s"</span>, <span class="st">"w"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, urb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>,</span>
<span>    <span class="st">"rural"</span>, <span class="st">"urban"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  who <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"drivers"</span>, <span class="st">"passengers"</span>, <span class="st">"bicyclists"</span>, <span class="st">"pedestrians"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  involved <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"any"</span>, <span class="st">"each"</span>, <span class="st">"alcohol"</span>, <span class="st">"bicyclist"</span>, <span class="st">"distracted driver"</span>, <span class="st">"drugs"</span>,</span>
<span>    <span class="st">"hit and run"</span>, <span class="st">"large trucks"</span>, <span class="st">"motorcycle"</span>, <span class="st">"older driver"</span>, <span class="st">"pedalcyclist"</span>,</span>
<span>    <span class="st">"pedbike"</span>, <span class="st">"pedestrian"</span>, <span class="st">"police pursuit"</span>, <span class="st">"roadway departure"</span>, <span class="st">"rollover"</span>,</span>
<span>    <span class="st">"speeding"</span>, <span class="st">"young driver"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  filterOnly <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>The input data object (must be of class 'FARS' or 'GESCRSS' as is produced by get_fars() and get_gescrss()).</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>What to count: crashes (the default), fatalities, injuries, or people involved.</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p>The interval in which to count: months or years (the default).</p></dd>


<dt id="arg-where">where<a class="anchor" aria-label="anchor" href="#arg-where"></a></dt>
<dd><p>Where to count. Must be a list with any of the elements:
states (can be 'all', full or abbreviated state names, or FIPS codes),
region ('all', 'ne', 'mw', 's', or 'w'; short for northeast, midwest, south, and west),
urb ('all', 'rural', or 'urban'). Any un-specified elements are set to 'all' by default.</p></dd>


<dt id="arg-who">who<a class="anchor" aria-label="anchor" href="#arg-who"></a></dt>
<dd><p>The type of person to count: 'all' (default) 'drivers', 'passengers', 'pedestrians', or 'bicyclists'.</p></dd>


<dt id="arg-involved">involved<a class="anchor" aria-label="anchor" href="#arg-involved"></a></dt>
<dd><p>Factors involved with the crash: 'any' (the default, produces general counts),
'each' (produces separate counts for each factor), 'distracted driver',
'police pursuit', 'motorcycle', 'pedalcyclist', 'bicyclist', 'pedestrian',
'pedbike', 'young driver', 'older driver', 'speeding','alcohol', 'drugs',
'hit and run', 'roadway departure', 'rollover', or 'large trucks'.</p></dd>


<dt id="arg-filteronly">filterOnly<a class="anchor" aria-label="anchor" href="#arg-filteronly"></a></dt>
<dd><p>Logical, whether to only filter data or reduce to counts (FALSE by default).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Either a filtered tibble (filterOnly=TRUE) or a tibble of counts
    (filterOnly=FALSE). If filterOnly=TRUE, the tibble that is returned is
    the 'flat' tibble from the input FARS object, filtered according to other
    parameters.</p>
<p>If `df` is a GESCRSS object, the counts returned are the sum of the appropriate weights.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>    <span class="fu">counts</span><span class="op">(</span><span class="fu"><a href="get_fars.html">get_fars</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span>, where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>states<span class="op">=</span><span class="st">"Virginia"</span>, urb<span class="op">=</span><span class="st">"rural"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

