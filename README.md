
<!-- README.md is generated from README.Rmd. Please edit that file -->

# rfars <img src="man/figures/logo.svg" align="right" width="120"/>

<!-- badges: start -->

[![CRAN_Status_Badge](https://www.r-pkg.org/badges/version/rfars)](https://cran.r-project.org/package=rfars)
[![R CMD
Check](https://github.com/s87jackson/rfars/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/s87jackson/rfars/actions/workflows/R-CMD-check.yaml)
[![](https://cranlogs.r-pkg.org/badges/grand-total/rfars)](https://CRAN.R-project.org/package=rfars)

<!-- badges: end -->

The goal of `rfars` is to facilitate transportation safety analysis by
simplifying the process of extracting data from official crash
databases. The [National Highway Traffic Safety
Administration](https://www.nhtsa.gov/) collects and publishes a census
of fatal crashes in the [Fatality Analysis Reporting
System](https://www.nhtsa.gov/research-data/fatality-analysis-reporting-system-fars)
and a sample of fatal and non-fatal crashes in the [Crash Report
Sampling
System](https://www.nhtsa.gov/crash-data-systems/crash-report-sampling-system)
(an evolution of the [General Estimates
System](https://www.nhtsa.gov/national-automotive-sampling-system/nass-general-estimates-system)).
The [Fatality and Injury Reporting System
Tool](https://cdan.dot.gov/query) allows users to query these databases,
and can produce simple tables and graphs. This suffices for simple
analysis, but often leaves researchers wanting more. Digging any deeper,
however, involves a time-consuming process of downloading annual ZIP
files and attempting to stitch them together - after first combing
through immense data dictionaries to determine the required variables
and table names.

`rfars` allows users to download the last 10 years of FARS and GES/CRSS
data with just one line of code. The result is a full, rich dataset
ready for mapping, modeling, and other downstream analysis. Codebooks
with variable definitions and value labels support an informed analysis
of the data (see `vignette("Searchable Codebooks", package = "rfars")`
for more information). Helper functions are also provided to produce
common counts and comparisons.

## Installation

You can install the latest version of `rfars` from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("s87jackson/rfars")
```

or the CRAN stable release with:

``` r
install.packages("rfars")
```

Then load rfars and some helpful packages:

``` r
library(rfars)
library(dplyr)
```

## Getting and Using Data

The `get_fars()` and `get_gescrss()` are the primary functions of the
`rfars` package. These functions download and process data files
directly from [NHTSA’s FTP
Site](https://www.nhtsa.gov/file-downloads?p=nhtsa/downloads/), or pull
the prepared data stored on your local machine. They take the parameters
`years` and `states` (FARS) or `regions` (GES/CRSS). As the source data
files follow an annual structure, `years` determines how many file sets
are downloaded or loaded, and `states`/`regions` filters the resulting
dataset. Downloading and processing these files can take several
minutes. Before downloading, `rfars` will inform you that it’s about to
download files and asks your permission to do so. To skip this dialog,
set `proceed = TRUE`. You can use the `dir` and `cache` parameters to
save an RDS file to your local machine. The `dir` parameter specifies
the directory, and `cache` names the file (be sure to include the .rds
file extension).

Below we get one year of FARS data:

``` r
myFARS <- get_fars(years = 2023, proceed = TRUE)
#> ✓ 2023 data downloaded
#> Accident file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   2%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   9%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  13%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  18%  |                                                                              |==============                                                        |  20%  |                                                                              |================                                                      |  22%  |                                                                              |=================                                                     |  24%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  29%  |                                                                              |======================                                                |  31%  |                                                                              |=======================                                               |  33%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  38%  |                                                                              |============================                                          |  40%  |                                                                              |==============================                                        |  42%  |                                                                              |===============================                                       |  44%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  49%  |                                                                              |====================================                                  |  51%  |                                                                              |=====================================                                 |  53%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  58%  |                                                                              |==========================================                            |  60%  |                                                                              |============================================                          |  62%  |                                                                              |=============================================                         |  64%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  69%  |                                                                              |==================================================                    |  71%  |                                                                              |===================================================                   |  73%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  78%  |                                                                              |========================================================              |  80%  |                                                                              |==========================================================            |  82%  |                                                                              |===========================================================           |  84%  |                                                                              |=============================================================         |  87%  |                                                                              |==============================================================        |  89%  |                                                                              |================================================================      |  91%  |                                                                              |=================================================================     |  93%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  98%  |                                                                              |======================================================================| 100%
#> Vehicle file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |================                                                      |  22%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |===========================                                           |  38%  |                                                                              |============================                                          |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |===================================                                   |  49%  |                                                                              |===================================                                   |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  58%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  85%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%
#> Person file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |==                                                                    |   3%  |                                                                              |====                                                                  |   5%  |                                                                              |======                                                                |   8%  |                                                                              |========                                                              |  11%  |                                                                              |=========                                                             |  14%  |                                                                              |===========                                                           |  16%  |                                                                              |=============                                                         |  19%  |                                                                              |===============                                                       |  22%  |                                                                              |=================                                                     |  24%  |                                                                              |===================                                                   |  27%  |                                                                              |=====================                                                 |  30%  |                                                                              |=======================                                               |  32%  |                                                                              |=========================                                             |  35%  |                                                                              |==========================                                            |  38%  |                                                                              |============================                                          |  41%  |                                                                              |==============================                                        |  43%  |                                                                              |================================                                      |  46%  |                                                                              |==================================                                    |  49%  |                                                                              |====================================                                  |  51%  |                                                                              |======================================                                |  54%  |                                                                              |========================================                              |  57%  |                                                                              |==========================================                            |  59%  |                                                                              |============================================                          |  62%  |                                                                              |=============================================                         |  65%  |                                                                              |===============================================                       |  68%  |                                                                              |=================================================                     |  70%  |                                                                              |===================================================                   |  73%  |                                                                              |=====================================================                 |  76%  |                                                                              |=======================================================               |  78%  |                                                                              |=========================================================             |  81%  |                                                                              |===========================================================           |  84%  |                                                                              |=============================================================         |  86%  |                                                                              |==============================================================        |  89%  |                                                                              |================================================================      |  92%  |                                                                              |==================================================================    |  95%  |                                                                              |====================================================================  |  97%  |                                                                              |======================================================================| 100%
#> Multiple Imputation Driver BAC by Crash file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |========                                                              |  11%  |                                                                              |================                                                      |  22%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================                                       |  44%  |                                                                              |=======================================                               |  56%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================                |  78%  |                                                                              |==============================================================        |  89%  |                                                                              |======================================================================| 100%
#> Weather file(s):
#>   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
#> Crash risk factors:
#>   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%
#> vsoe file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |==================                                                    |  25%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================================                  |  75%  |                                                                              |======================================================================| 100%
#> distract file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> drimpair file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> factor file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> maneuver file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> violatn file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> vision file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> damage file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> vehiclesf file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> pvehiclesf file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> driverrf file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#> PBtype file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   5%  |                                                                              |======                                                                |   9%  |                                                                              |==========                                                            |  14%  |                                                                              |=============                                                         |  18%  |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  32%  |                                                                              |=========================                                             |  36%  |                                                                              |=============================                                         |  41%  |                                                                              |================================                                      |  45%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  55%  |                                                                              |=========================================                             |  59%  |                                                                              |=============================================                         |  64%  |                                                                              |================================================                      |  68%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  82%  |                                                                              |============================================================          |  86%  |                                                                              |================================================================      |  91%  |                                                                              |===================================================================   |  95%  |                                                                              |======================================================================| 100%
#> SafetyEq file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=========                                                             |  12%  |                                                                              |==================                                                    |  25%  |                                                                              |==========================                                            |  38%  |                                                                              |===================================                                   |  50%  |                                                                              |============================================                          |  62%  |                                                                              |====================================================                  |  75%  |                                                                              |=============================================================         |  88%  |                                                                              |======================================================================| 100%
#> Multiple Imputation Person BAC file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |======                                                                |   9%  |                                                                              |=============                                                         |  18%  |                                                                              |===================                                                   |  27%  |                                                                              |=========================                                             |  36%  |                                                                              |================================                                      |  45%  |                                                                              |======================================                                |  55%  |                                                                              |=============================================                         |  64%  |                                                                              |===================================================                   |  73%  |                                                                              |=========================================================             |  82%  |                                                                              |================================================================      |  91%  |                                                                              |======================================================================| 100%
#> nmcrash file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%
#> nmimpair file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%
#> nmprior file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%
#> nmdistract file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%
#> drugs file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=========                                                             |  12%  |                                                                              |==================                                                    |  25%  |                                                                              |==========================                                            |  38%  |                                                                              |===================================                                   |  50%  |                                                                              |============================================                          |  62%  |                                                                              |====================================================                  |  75%  |                                                                              |=============================================================         |  88%  |                                                                              |======================================================================| 100%
#> race file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |==============                                                        |  20%  |                                                                              |============================                                          |  40%  |                                                                              |==========================================                            |  60%  |                                                                              |========================================================              |  80%  |                                                                              |======================================================================| 100%
#> personrf file:
#>   |                                                                              |                                                                      |   0%  |                                                                              |=======================                                               |  33%  |                                                                              |===============================================                       |  67%  |                                                                              |======================================================================| 100%
#> ✓ Flat file constructed
#> ✓ Multi_acc file constructed
#> ✓ Multi_veh file constructed
#> ✓ Multi_per file constructed
#> ✓ SOE file constructed
#> ✓ Prepared files saved in C:/Users/STEVEJ~1/AppData/Local/Temp/Rtmpk5gY1z/FARS data/prepd/2023
#> ✓ Codebook file saved in C:/Users/STEVEJ~1/AppData/Local/Temp/Rtmpk5gY1z/FARS data/prepd/
```

We could have saved that file locally with:

``` r
myFARS <- get_fars(years=2023, proceed = TRUE, dir = getwd(), cache = "myFARS.rds")
```

Note that you can assign and save this data with one function call.

We could similarly get one year of CRSS data:

``` r
myCRSS <- get_gescrss(years = 2023, proceed = TRUE)
```

`get_fars()` and `get_gescrss()` return a list with six tibbles: `flat`,
`multi_acc`, `multi_veh`, `multi_per`, `events`, and `codebook`.

Each row in the `flat` tibble corresponds to a person involved in a
crash. As there may be multiple people and/or vehicles involved in one
crash, some variable-values are repeated within a crash or vehicle. Each
crash is uniquely identified with `id`, which is a combination of `year`
and `st_case`. Note that `st_case` is not unique across years, for
example, `st_case` 510001 will appear in each year. The `id` variable
attempts to avoid this issue.

``` r
glimpse(myFARS$flat, width = 100)
#> Rows: 92,400
#> Columns: 217
#> $ year          <dbl> 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023…
#> $ state         <fct> Alabama, Alabama, Alabama, Alabama, Alabama, Alabama, Alabama, Alabama, Alab…
#> $ st_case       <dbl> 10001, 10002, 10003, 10004, 10004, 10004, 10005, 10005, 10005, 10005, 10006,…
#> $ id            <dbl> 202310001, 202310002, 202310003, 202310004, 202310004, 202310004, 202310005,…
#> $ veh_no        <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2…
#> $ per_no        <dbl> 1, 1, 1, 1, 2, 3, 1, 2, 3, 4, 1, 1, 1, 1, 2, 1, 2, 3, 1, 1, 2, 3, 1, 1, 1, 1…
#> $ county        <dbl> 13, 97, 89, 53, 53, 53, 3, 3, 3, 3, 121, 95, 95, 123, 123, 119, 119, 119, 85…
#> $ city          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
#> $ lon           <dbl> -86.53883, -88.27321, -86.37583, -86.74669, -86.74669, -86.74669, -87.64380,…
#> $ lat           <dbl> 31.92797, 30.50874, 34.73833, 31.01478, 31.01478, 31.01478, 31.02741, 31.027…
#> $ acc_config    <fct> "Single Driver-Right Roadside Departure", "Single Driver-Left Roadside Depar…
#> $ acc_type      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "G50-Same Trafficway, Opposite D…
#> $ age           <fct> 33 Years, 32 Years, 21 Years, 54 Years, 53 Years, 36 Years, 54 Years, 60 Yea…
#> $ air_bag       <fct> "Deployed- Front", "Deployed- Front", "Deployed- Front", "Deployed- Combinat…
#> $ alc_res       <fct> "Test Not Given", "0.217 % BAC", "0.148 % BAC", "0.117 % BAC", "Test Not Giv…
#> $ alc_status    <fct> Test Not Given, Test Given, Test Given, Test Given, Test Not Given, Test Giv…
#> $ arr_hour      <fct> 10:00pm-10:59pm, 2:00am-2:59am, 11:00pm-11:59pm, 7:00pm-7:59pm, 7:00pm-7:59p…
#> $ arr_min       <fct> 45, 23, 8, 44, 44, 44, 8, 8, 8, 8, 33, 48, 48, 22, 22, 1, 1, 1, 59, 59, 59, …
#> $ atst_typ      <fct> "Test Not Given", "Blood", "Blood", "Blood", "Test Not Given", "Vitreous", "…
#> $ bikecgp       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ bikectype     <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ bikedir       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ bikeloc       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ bikepos       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ body_typ      <fct> "Compact Utility (Utility Vehicle Categories \"Small\" and \"Midsize\")", "5…
#> $ bus_use       <fct> "Not a Bus", "Not a Bus", "Not a Bus", "Not a Bus", "Not a Bus", "Not a Bus"…
#> $ cargo_bt      <fct> Not Applicable (N/A), Not Applicable (N/A), Not Applicable (N/A), Not Applic…
#> $ cdl_stat      <fct> No (CDL), No (CDL), No (CDL), No (CDL), No (CDL), No (CDL), No (CDL), No (CD…
#> $ cityname      <chr> "NOT APPLICABLE", "NOT APPLICABLE", "NOT APPLICABLE", "NOT APPLICABLE", "NOT…
#> $ countyname    <chr> "BUTLER (13)", "MOBILE (97)", "MADISON (89)", "ESCAMBIA (53)", "ESCAMBIA (53…
#> $ day           <dbl> 4, 20, 18, 17, 17, 17, 17, 17, 17, 17, 16, 16, 16, 15, 15, 11, 11, 11, 12, 1…
#> $ day_week      <fct> Wednesday, Monday, Saturday, Friday, Friday, Friday, Friday, Friday, Friday,…
#> $ death_da      <fct> 4, 20, 18, Not Applicable (Non-Fatal), Not Applicable (Non-Fatal), 17, 17, N…
#> $ death_hr      <fct> 22:00-22:59, 2:00-2:59, 22:00-22:59, Not Applicable (Non-fatal), Not Applica…
#> $ death_mn      <fct> 20, 0, 56, Not Applicable (Non-fatal), Not Applicable (Non-fatal), 0, 55, No…
#> $ death_mo      <fct> January, March, March, Not Applicable (Non-Fatal), Not Applicable (Non-Fatal…
#> $ death_tm      <fct> NA, NA, NA, Not Applicable (Non-fatal), Not Applicable (Non-fatal), NA, NA, …
#> $ death_yr      <fct> 2023, 2023, 2023, Not Applicable (Non-fatal), Not Applicable (Non-fatal), 20…
#> $ deaths        <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 0, 1, 1, 1, 1, 1, 1, 0…
#> $ deformed      <fct> "Disabling Damage", "Disabling Damage", "Disabling Damage", "Disabling Damag…
#> $ devmotor      <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ devtype       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ doa           <fct> Died at Scene, Died at Scene, Died at Scene, Not Applicable, Not Applicable,…
#> $ dr_drink      <fct> No, Yes, Yes, Yes, Yes, Yes, No, No, No, No, No, No, No, No, No, Yes, Yes, Y…
#> $ dr_hgt        <fct> Unknown, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
#> $ dr_pres       <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Y…
#> $ dr_wgt        <fct> Unknown, 190 lbs., 130 lbs., 250 lbs., 250 lbs., 250 lbs., 287 lbs., 287 lbs…
#> $ dr_zip        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ drinking      <fct> No (Alcohol Not Involved), Yes (Alcohol Involved), No (Alcohol Not Involved)…
#> $ drugs         <fct> No (drugs not involved), Reported as Unknown, No (drugs not involved), No (d…
#> $ dstatus       <fct> Test Not Given, Test Given, Test Given, Test Given, Test Not Given, Test Giv…
#> $ ej_path       <fct> "Ejection Path Not Applicable", "Ejection Path Not Applicable", "Ejection Pa…
#> $ ejection      <fct> Not Ejected, Not Ejected, Not Ejected, Not Ejected, Not Ejected, Totally Eje…
#> $ emer_use      <fct> "Not Applicable", "Not Applicable", "Not Applicable", "Not Applicable", "Not…
#> $ extricat      <fct> Not Extricated or Not Applicable, Not Extricated or Not Applicable, Not Extr…
#> $ fatals        <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1…
#> $ fire_exp      <fct> No or Not Reported, No or Not Reported, No or Not Reported, No or Not Report…
#> $ first_mo      <fct> November, No Record, No Record, July, July, July, No Record, No Record, No R…
#> $ first_yr      <fct> 2022, No Record, No Record, 2020, 2020, 2020, No Record, No Record, No Recor…
#> $ func_sys      <fct> Major Collector, Local, Major Collector, Local, Local, Local, Interstate, In…
#> $ gvwr_from     <fct> "Class 1: 6,000 lbs. or less (2,722 kg or less)", "Class 1: 6,000 lbs. or le…
#> $ gvwr_to       <fct> "Class 1: 6,000 lbs. or less (2,722 kg or less)", "Class 1: 6,000 lbs. or le…
#> $ harm_ev       <fct> "Rollover/Overturn", "Tree (Standing Only)", "Embankment", "Live Animal", "L…
#> $ haz_cno       <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ haz_id        <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ haz_inv       <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, …
#> $ haz_plac      <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ haz_rel       <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ helm_mis      <fct> "None Used/Not Applicable", "None Used/Not Applicable", "None Used/Not Appli…
#> $ helm_use      <fct> "Not Applicable", "Not Applicable", "Not Applicable", "Not Applicable", "Not…
#> $ hispanic      <fct> "Non-Hispanic", "Non-Hispanic", "Non-Hispanic", "Not A Fatality (not Applica…
#> $ hit_run       <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, …
#> $ hosp_hr       <fct> Not Applicable (Not Transported), Not Applicable (Not Transported), Not Appl…
#> $ hosp_mn       <fct> Not Applicable (Not Transported), Not Applicable (Not Transported), Not Appl…
#> $ hospital      <fct> Not Transported for Treatment, Not Transported for Treatment, Not Transporte…
#> $ hour          <fct> 10:00pm-10:59pm, 2:00am-2:59am, 10:00pm-10:59pm, 7:00pm-7:59pm, 7:00pm-7:59p…
#> $ icfinalbody   <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ impact1       <fct> "Non-Collision", "12 Clock Point", "12 Clock Point", "Not Reported", "Not Re…
#> $ inj_sev       <fct> "Fatal Injury (K)", "Fatal Injury (K)", "Fatal Injury (K)", "Suspected Serio…
#> $ j_knife       <fct> Not an Articulated Vehicle, Not an Articulated Vehicle, Not an Articulated V…
#> $ l_compl       <fct> Valid license for this class vehicle, Valid license for this class vehicle, …
#> $ l_endors      <fct> "No Endorsements required for this vehicle", "No Endorsements required for t…
#> $ l_restri      <fct> "No Restrictions or Not Applicable", "No Restrictions or Not Applicable", "R…
#> $ l_state       <fct> Georgia, Alabama, Alabama, Iowa, Iowa, Iowa, Alabama, Alabama, Alabama, Alab…
#> $ l_status      <fct> Valid, Valid, Valid, Valid, Valid, Valid, Not licensed, Not licensed, Not li…
#> $ l_type        <fct> Full Driver License, Full Driver License, Full Driver License, Full Driver L…
#> $ lag_hrs       <fct> NA, NA, NA, Unknown, Unknown, NA, NA, Unknown, Unknown, Unknown, NA, NA, NA,…
#> $ lag_mins      <fct> NA, NA, NA, Unknown, Unknown, NA, NA, Unknown, Unknown, Unknown, NA, NA, NA,…
#> $ last_mo       <fct> November, No Record, No Record, August, August, August, No Record, No Record…
#> $ last_yr       <fct> 2022, No Record, No Record, 2020, 2020, 2020, No Record, No Record, No Recor…
#> $ lgt_cond      <fct> Dark - Not Lighted, Dark - Not Lighted, Dark - Not Lighted, Dark - Not Light…
#> $ location      <fct> "Occupant of a Motor Vehicle", "Occupant of a Motor Vehicle", "Occupant of a…
#> $ m_harm        <fct> "Embankment", "Tree (Standing Only)", "Tree (Standing Only)", "Tree (Standin…
#> $ mak_mod       <fct> "Ford Bronco (thru 1977)/Bronco II/Explorer/Explorer Sport (Explorer for 199…
#> $ make          <fct> Ford, Dodge, Toyota, Jeep / Kaiser-Jeep / Willys- Jeep, Jeep / Kaiser-Jeep /…
#> $ man_coll      <fct> The First Harmful Event was Not a Collision with a Motor Vehicle in Transpor…
#> $ mcarr_i1      <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ mcarr_i2      <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ mcarr_id      <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ milept        <fct> NA, None, None, None, None, None, NA, NA, NA, NA, None, None, None, NA, NA, …
#> $ minute        <fct> 20, 0, 56, 0, 0, 0, 55, 55, 55, 55, 25, 25, 25, 12, 12, 30, 30, 30, 20, 20, …
#> $ mod_year      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ model         <dbl> 401, 25, 40, 1, 1, 1, 43, 43, 43, 43, 481, 482, 481, 481, 481, 31, 31, 31, 3…
#> $ month         <fct> January, March, March, March, March, March, March, March, March, March, Marc…
#> $ motdir        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ motman        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ nhs           <fct> This Section IS NOT on the NHS, This Section IS NOT on the NHS, This Section…
#> $ nmhelmet      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ nmlight       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ nmothpre      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ nmothpro      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ nmpropad      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ nmrefclo      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ not_hour      <fct> 10:00pm-10:59pm, 2:00am-2:59am, 10:00pm-10:59pm, 7:00pm-7:59pm, 7:00pm-7:59p…
#> $ not_min       <fct> 20, 8, 48, 0, 0, 0, 53, 53, 53, 53, 18, 31, 31, 12, 12, 40, 40, 40, 18, 18, …
#> $ numoccs       <fct> 01, 01, 01, 03, 03, 03, 04, 04, 04, 04, 01, 01, 01, 02, 02, 03, 03, 03, 01, …
#> $ owner         <fct> "Driver (in this crash) Not Registered Owner (Other Private Owner Listed)", …
#> $ p_crash1      <fct> Going Straight, Going Straight, Negotiating a Curve, Negotiating a Curve, Ne…
#> $ p_crash2      <fct> "Off the edge of the road on the right side", "Off the edge of the road on t…
#> $ p_crash3      <fct> Steering left, Unknown/Not Reported, Unknown/Not Reported, Steering right, S…
#> $ pbcwalk       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pbswalk       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pbszone       <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pcrash4       <fct> "Skidding laterally clockwise rotation", "Tracking", "Tracking", "Tracking",…
#> $ pcrash5       <fct> "Departed roadway", "Departed roadway", "Departed roadway", "Departed roadwa…
#> $ pedcgp        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pedctype      <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ peddir        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pedleg        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pedloc        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ pedpos        <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ peds          <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
#> $ pedsnr        <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ per_typ       <fct> Driver of a Motor Vehicle In-Transport, Driver of a Motor Vehicle In-Transpo…
#> $ permvit       <dbl> 1, 1, 1, 3, 3, 3, 4, 4, 4, 4, 1, 2, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4, 1, 1, 4, 4…
#> $ pernotmvit    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
#> $ persons       <dbl> 1, 1, 1, 3, 3, 3, 4, 4, 4, 4, 1, 2, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4, 1, 1, 4, 4…
#> $ prev_acc      <fct> None, None, None, 1, 1, 1, None, None, None, None, 4, None, None, 2, 2, None…
#> $ prev_dwi      <fct> None, None, None, None, None, None, None, None, None, None, None, None, None…
#> $ prev_oth      <fct> None, None, None, 1, 1, 1, None, None, None, None, None, None, None, None, N…
#> $ prev_spd      <fct> 1, None, None, None, None, None, None, None, None, None, None, None, 1, 1, 1…
#> $ prev_sus1     <fct> None, None, None, None, None, None, None, None, None, None, None, None, None…
#> $ prev_sus2     <fct> None, None, None, None, None, None, None, None, None, None, None, None, None…
#> $ prev_sus3     <fct> None, None, None, None, None, None, None, None, None, None, None, None, None…
#> $ pvh_invl      <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
#> $ rail          <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ rd_owner      <fct> "State Highway Agency", "County Highway Agency", "County Highway Agency", "C…
#> $ reg_stat      <fct> Alabama, Alabama, Alabama, Iowa, Iowa, Iowa, Alabama, Alabama, Alabama, Alab…
#> $ rel_road      <fct> On Roadside, On Roadside, On Roadside, On Roadside, On Roadside, On Roadside…
#> $ reljct1       <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, …
#> $ reljct2       <fct> Non-Junction, Non-Junction, Non-Junction, Non-Junction, Non-Junction, Non-Ju…
#> $ rest_mis      <fct> "No Indication of Misuse", "None Used/Not Applicable", "None Used/Not Applic…
#> $ rest_use      <fct> NA, None Used/Not Applicable, None Used/Not Applicable, NA, NA, None Used/No…
#> $ rolinloc      <fct> On Roadside, No Rollover, No Rollover, No Rollover, No Rollover, No Rollover…
#> $ rollover      <fct> Rollover, No Rollover, No Rollover, No Rollover, No Rollover, No Rollover, N…
#> $ route         <fct> U.S. Highway, County, County, County, County, County, Interstate, Interstate…
#> $ rur_urb       <fct> Rural, Rural, Rural, Rural, Rural, Rural, Rural, Rural, Rural, Rural, Rural,…
#> $ sch_bus       <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, …
#> $ seat_pos      <fct> "Front Seat, Left Side", "Front Seat, Left Side", "Front Seat, Left Side", "…
#> $ sex           <fct> Male, Female, Female, Male, Male, Male, Male, Male, Male, Female, Male, Male…
#> $ sp_jur        <fct> No Special Jurisdiction, No Special Jurisdiction, No Special Jurisdiction, N…
#> $ spec_use      <fct> "No Special Use Noted", "No Special Use Noted", "No Special Use Noted", "No …
#> $ speedrel      <fct> "No", "No", "Yes, Exceeded Speed Limit", "Yes, Exceeded Speed Limit", "Yes, …
#> $ statename     <fct> Alabama, Alabama, Alabama, Alabama, Alabama, Alabama, Alabama, Alabama, Alab…
#> $ str_veh       <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
#> $ tow_veh       <fct> "No Trailers", "No Trailers", "No Trailers", "No Trailers", "No Trailers", "…
#> $ towed         <fct> Towed, Towed, Towed, Towed, Towed, Towed, Towed, Towed, Towed, Towed, Towed,…
#> $ trav_sp       <fct> 055 MPH, 065 MPH, 060 MPH, 060 MPH, 060 MPH, 060 MPH, 070 MPH, 070 MPH, 070 …
#> $ trlr1gvwr     <fct> "No Trailing Units", "No Trailing Units", "No Trailing Units", "No Trailing …
#> $ trlr1vin      <fct> "No Trailing Units", "No Trailing Units", "No Trailing Units", "No Trailing …
#> $ trlr2gvwr     <fct> "No Trailing Units", "No Trailing Units", "No Trailing Units", "No Trailing …
#> $ trlr2vin      <fct> No Trailing Units, No Trailing Units, No Trailing Units, No Trailing Units, …
#> $ trlr3gvwr     <fct> "No Trailing Units", "No Trailing Units", "No Trailing Units", "No Trailing …
#> $ trlr3vin      <fct> No Trailing Units, No Trailing Units, No Trailing Units, No Trailing Units, …
#> $ tway_id       <chr> "US-31 SR-3", "CR-BOE RD", "CR-GURLEY PIKE", "CR-ROCK CREEK RD", "CR-ROCK CR…
#> $ tway_id2      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ typ_int       <fct> "Not an Intersection", "Not an Intersection", "Not an Intersection", "Not an…
#> $ underoverride <fct> Not Applicable, Not Applicable, Not Applicable, Not Applicable, Not Applicab…
#> $ unittype      <fct> Motor Vehicle In-Transport (Inside or Outside the Trafficway), Motor Vehicle…
#> $ v_config      <fct> "Not Applicable", "Not Applicable", "Not Applicable", "Not Applicable", "Not…
#> $ valign        <fct> Straight, Straight, Curve Right, Curve Left, Curve Left, Curve Left, Straigh…
#> $ ve_forms      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 2, 2…
#> $ ve_total      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 2, 2…
#> $ vin           <fct> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ vnum_lan      <fct> Two lanes, Two lanes, Two lanes, Two lanes, Two lanes, Two lanes, Two lanes,…
#> $ vpavetyp      <fct> "Blacktop, Bituminous, or Asphalt", "Blacktop, Bituminous, or Asphalt", "Bla…
#> $ vpicbodyclass <dbl> 7, 5, 13, 7, 7, 7, 13, 13, 13, 13, 60, 119, 60, 60, 60, 13, 13, 13, 7, 13, 1…
#> $ vpicmake      <dbl> 460, 476, 448, 483, 483, 483, 448, 448, 448, 448, 472, 467, 467, 467, 467, 4…
#> $ vpicmodel     <dbl> 1800, 1896, 2469, 1946, 1946, 1946, 2465, 2465, 2465, 2465, 1857, 3876, 1850…
#> $ vprofile      <fct> "Downhill", "Level", "Downhill", "Downhill", "Downhill", "Downhill", "Level"…
#> $ vspd_lim      <fct> 55 MPH, 45 MPH, 45 MPH, 35 MPH, 35 MPH, 35 MPH, 70 MPH, 70 MPH, 70 MPH, 70 M…
#> $ vsurcond      <fct> "Dry", "Dry", "Dry", "Dry", "Dry", "Dry", "Wet", "Wet", "Wet", "Wet", "Dry",…
#> $ vtcont_f      <fct> "No Controls", "No Controls", "Not Reported", "Device Functioning Properly",…
#> $ vtrafcon      <fct> NA, NA, Not Reported, Other, Other, Other, NA, NA, NA, NA, NA, NA, NA, NA, N…
#> $ vtrafway      <fct> "Two-Way, Not Divided", "Two-Way, Not Divided", "Two-Way, Not Divided", "Two…
#> $ work_inj      <fct> No, No, No, Not Applicable (not a fatality), Not Applicable (not a fatality)…
#> $ wrk_zone      <fct> "None", "None", "None", "None", "None", "None", "None", "None", "None", "Non…
#> $ a1            <dbl> 21, 21, 14, 11, 11, 11, 0, 0, 0, 0, 25, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, …
#> $ a2            <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 25, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0…
#> $ a3            <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 18, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0…
#> $ a4            <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0,…
#> $ a5            <dbl> 13, 21, 14, 11, 11, 11, 0, 0, 0, 0, 25, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, …
#> $ a6            <dbl> 13, 21, 14, 11, 11, 11, 0, 0, 0, 0, 14, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, …
#> $ a7            <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0,…
#> $ a8            <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0,…
#> $ a9            <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0,…
#> $ a10           <dbl> 0, 21, 14, 11, 11, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0,…
#> $ p1            <dbl> 21, 21, 14, 11, NA, NA, 0, NA, NA, NA, 25, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA,…
#> $ p2            <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 25, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, …
#> $ p3            <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 18, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, …
#> $ p4            <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 0, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, N…
#> $ p5            <dbl> 13, 21, 14, 11, NA, NA, 0, NA, NA, NA, 25, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA,…
#> $ p6            <dbl> 13, 21, 14, 11, NA, NA, 0, NA, NA, NA, 14, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA,…
#> $ p7            <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 0, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, N…
#> $ p8            <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 0, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, N…
#> $ p9            <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 8, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, N…
#> $ p10           <dbl> 0, 21, 14, 11, NA, NA, 0, NA, NA, NA, 0, 0, 0, 0, NA, 0, NA, NA, 5, 5, NA, N…
```

The `multi_` tibbles contain those variables for which there may be a
varying number of values for any entity (e.g., driver impairments,
vehicle events, weather conditions at time of crash). Each tibble has
the requisite data elements corresponding to the entity: `multi_acc`
includes `st_case` and `year`, `multi_veh` adds `veh_no` (vehicle
number), and `multi_per` adds `per_no` (person number).

The top name-value pairs of each tibble are shown below.

``` r
myFARS$multi_acc %>% 
  filter(!is.na(value)) %>% 
  group_by(name, value) %>% 
  summarize(n=n(), .groups = "drop") %>% 
  arrange(desc(n)) %>% slice(1:10) %>% 
  select(name, value, n) %>% 
  knitr::kable(format = "html", caption = "Top Name-Value Pairs for the multi_acc Object")
```

<table>
<caption>
Top Name-Value Pairs for the multi_acc Object
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
value
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
crashrf
</td>
<td style="text-align:left;">
None Noted
</td>
<td style="text-align:right;">
34846
</td>
</tr>
<tr>
<td style="text-align:left;">
weather
</td>
<td style="text-align:left;">
Clear
</td>
<td style="text-align:right;">
27872
</td>
</tr>
<tr>
<td style="text-align:left;">
weather
</td>
<td style="text-align:left;">
Cloudy
</td>
<td style="text-align:right;">
5202
</td>
</tr>
<tr>
<td style="text-align:left;">
weather
</td>
<td style="text-align:left;">
Rain
</td>
<td style="text-align:right;">
2663
</td>
</tr>
<tr>
<td style="text-align:left;">
crashrf
</td>
<td style="text-align:left;">
Motor Vehicle struck by falling cargo,or something that came loose from
or something that was set in motion by a vehicle
</td>
<td style="text-align:right;">
889
</td>
</tr>
<tr>
<td style="text-align:left;">
crashrf
</td>
<td style="text-align:left;">
Indication of a Stalled/Disabled Vehicle
</td>
<td style="text-align:right;">
473
</td>
</tr>
<tr>
<td style="text-align:left;">
crashrf
</td>
<td style="text-align:left;">
Police Pursuit Involved
</td>
<td style="text-align:right;">
468
</td>
</tr>
<tr>
<td style="text-align:left;">
weather
</td>
<td style="text-align:left;">
Fog, Smog, Smoke
</td>
<td style="text-align:right;">
420
</td>
</tr>
<tr>
<td style="text-align:left;">
crashrf
</td>
<td style="text-align:left;">
Recent/Previous Crash scene Nearby
</td>
<td style="text-align:right;">
419
</td>
</tr>
<tr>
<td style="text-align:left;">
weather
</td>
<td style="text-align:left;">
Snow
</td>
<td style="text-align:right;">
222
</td>
</tr>
</tbody>
</table>

``` r
myFARS$multi_veh %>% 
  filter(!is.na(value)) %>% 
  group_by(name, value) %>% 
  summarize(n=n(), .groups = "drop") %>% 
  arrange(desc(n)) %>% slice(1:10) %>% 
  select(name, value, n) %>% 
  knitr::kable(format = "html", caption = "Top Name-Value Pairs for the multi_veh Object")
```

<table>
<caption>
Top Name-Value Pairs for the multi_veh Object
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
value
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
vision
</td>
<td style="text-align:left;">
No Obstruction Noted
</td>
<td style="text-align:right;">
54593
</td>
</tr>
<tr>
<td style="text-align:left;">
vehiclecc
</td>
<td style="text-align:left;">
None Noted
</td>
<td style="text-align:right;">
54279
</td>
</tr>
<tr>
<td style="text-align:left;">
damage
</td>
<td style="text-align:left;">
12 Clock Value
</td>
<td style="text-align:right;">
42485
</td>
</tr>
<tr>
<td style="text-align:left;">
driverrf
</td>
<td style="text-align:left;">
None Noted
</td>
<td style="text-align:right;">
37254
</td>
</tr>
<tr>
<td style="text-align:left;">
damage
</td>
<td style="text-align:left;">
11 Clock Value
</td>
<td style="text-align:right;">
22765
</td>
</tr>
<tr>
<td style="text-align:left;">
damage
</td>
<td style="text-align:left;">
1 Clock Value
</td>
<td style="text-align:right;">
21620
</td>
</tr>
<tr>
<td style="text-align:left;">
drimpair
</td>
<td style="text-align:left;">
None/Apparently Normal
</td>
<td style="text-align:right;">
21223
</td>
</tr>
<tr>
<td style="text-align:left;">
damage
</td>
<td style="text-align:left;">
10 Clock Value
</td>
<td style="text-align:right;">
18445
</td>
</tr>
<tr>
<td style="text-align:left;">
drdistract
</td>
<td style="text-align:left;">
Not Distracted
</td>
<td style="text-align:right;">
17166
</td>
</tr>
<tr>
<td style="text-align:left;">
damage
</td>
<td style="text-align:left;">
2 Clock Value
</td>
<td style="text-align:right;">
16904
</td>
</tr>
</tbody>
</table>

``` r
myFARS$multi_per %>% 
  filter(!is.na(value)) %>% 
  group_by(name, value) %>% 
  summarize(n=n(), .groups = "drop") %>% 
  arrange(desc(n)) %>% slice(1:10) %>% 
  select(name, value, n) %>% 
  knitr::kable(format = "html", caption = "Top Name-Value Pairs for the multi_per Object")
```

<table>
<caption>
Top Name-Value Pairs for the multi_per Object
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
value
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
druguom
</td>
<td style="text-align:left;">
Not Applicable
</td>
<td style="text-align:right;">
108993
</td>
</tr>
<tr>
<td style="text-align:left;">
drugactqty
</td>
<td style="text-align:left;">
Not Applicable
</td>
<td style="text-align:right;">
108992
</td>
</tr>
<tr>
<td style="text-align:left;">
multrace
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:right;">
91887
</td>
</tr>
<tr>
<td style="text-align:left;">
personrf
</td>
<td style="text-align:left;">
None Noted
</td>
<td style="text-align:right;">
91594
</td>
</tr>
<tr>
<td style="text-align:left;">
race
</td>
<td style="text-align:left;">
Not a Fatality (not applicable)
</td>
<td style="text-align:right;">
51499
</td>
</tr>
<tr>
<td style="text-align:left;">
drugres
</td>
<td style="text-align:left;">
Test Not Given
</td>
<td style="text-align:right;">
48991
</td>
</tr>
<tr>
<td style="text-align:left;">
drugmethod
</td>
<td style="text-align:left;">
Test Not Given
</td>
<td style="text-align:right;">
48982
</td>
</tr>
<tr>
<td style="text-align:left;">
drugqty
</td>
<td style="text-align:left;">
Test Not Given
</td>
<td style="text-align:right;">
48982
</td>
</tr>
<tr>
<td style="text-align:left;">
race
</td>
<td style="text-align:left;">
White
</td>
<td style="text-align:right;">
26514
</td>
</tr>
<tr>
<td style="text-align:left;">
drugqty
</td>
<td style="text-align:left;">
Actual Drug Quantity
</td>
<td style="text-align:right;">
20190
</td>
</tr>
</tbody>
</table>

The `events` tibble provides a sequence of numbered events for each
vehicle in each crash. See the vignette(“Crash Sequence of Events”,
package = “rfars”) for more information.

``` r
head(myFARS$events, 10) %>% 
  knitr::kable(format="html", caption = "Preview of events Object")
```

<table>
<caption>
Preview of events Object
</caption>
<thead>
<tr>
<th style="text-align:left;">
state
</th>
<th style="text-align:left;">
st_case
</th>
<th style="text-align:left;">
veh_no
</th>
<th style="text-align:left;">
aoi
</th>
<th style="text-align:left;">
soe
</th>
<th style="text-align:left;">
veventnum
</th>
<th style="text-align:left;">
year
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Ran Off Roadway - Right
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Re-entering Roadway
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Cross Centerline
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Cross Centerline
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Ran Off Roadway - Right
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Collision
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10001
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
10 Clock Point
</td>
<td style="text-align:left;">
Embankment
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10002
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Cross Centerline
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10002
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Non-Harmful Event
</td>
<td style="text-align:left;">
Ran Off Roadway - Left
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
2023
</td>
</tr>
<tr>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
10002
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
12 Clock Point
</td>
<td style="text-align:left;">
Tree (Standing Only)
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
2023
</td>
</tr>
</tbody>
</table>

The `codebook` tibble provides a searchable codebook for the data,
useful if you know what concept you’re looking for but not the variable
that describes it. `rfars` also includes pre-loaded codebooks for FARS
and GESCRSS (`rfars::fars_codebook` and `rfars::gescrss_codebook`).
These tables span 2014-2023 whereas the `codebook` object returned from
`get_fars()` and `get_gescrss()` only include the specified `years`. See
`vignette('Searchable Codebooks', package = 'rfars')` for more
information.

## Counts

See `vignette("Counts", package = "rfars")` for information on the
pre-loaded `annual_counts` dataframe and the `counts()` function. Also
see `vignette("Alcohol Counts", package = "rfars")` for details on how
BAC values are imputed and reported in *Traffic Safety Facts*.

## Helpful Links

- [National Highway Traffic Safety Administration
  (NHTSA)](https://www.nhtsa.gov/)
- [Fatality Analysis Reporting System
  (FARS)](https://www.nhtsa.gov/research-data/fatality-analysis-reporting-system-fars)
- [Fatality and Injury Reporting System Tool
  (FIRST)](https://cdan.dot.gov/query)
- [FARS Analytical User’s
  Manual](https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813706)
- [General Estimates System
  (GES)](https://www.nhtsa.gov/national-automotive-sampling-system/nass-general-estimates-system)
- [Crash Report Sampling System
  (CRSS)](https://www.nhtsa.gov/crash-data-systems/crash-report-sampling-system)
- [CRSS Analytical User’s
  Manual](https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813707)
- [NCSA and Other Data
  Sources](https://cdan.dot.gov/Homepage/MotorVehicleCrashDataOverview.htm)
- [NHTSA FTP
  Site](https://www.nhtsa.gov/file-downloads?p=nhtsa/downloads/)
